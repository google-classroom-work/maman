/*!For license information please see 44.b08ed727.chunk.js.LICENSE.txt*/(self.webpackChunkbloxd=self.webpackChunkbloxd||[]).push([[44],{19642:function(w,v,I){"use strict";I.d(v,{e:function(){return b},h:function(){return G},l:function(){return H},n:function(){return C},p:function(){return k},q:function(){return y}});var P,u,Q=I(37762),K=I(4942),a=I(15671),U=I(43144),p=(I(64687),I(56053)),r=[];!function(w){w[w.DEBUG=0]="DEBUG",w[w.VERBOSE=1]="VERBOSE",w[w.INFO=2]="INFO",w[w.WARN=3]="WARN",w[w.ERROR=4]="ERROR",w[w.SILENT=5]="SILENT"}(u||(u={}));var Y={debug:u.DEBUG,verbose:u.VERBOSE,info:u.INFO,warn:u.WARN,error:u.ERROR,silent:u.SILENT},g=u.INFO,J=(P={},(0,K.c)(P,u.DEBUG,"log"),(0,K.c)(P,u.VERBOSE,"log"),(0,K.c)(P,u.INFO,"info"),(0,K.c)(P,u.WARN,"warn"),(0,K.c)(P,u.ERROR,"error"),P),l=function(w,v){if(!(v<w.logLevel)){var I=(new Date).toISOString(),P=J[v];if(!P)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(v,")"));for(var u,Q=arguments.length,K=new Array(Q>2?Q-2:0),a=2;a<Q;a++)K[a-2]=arguments[a];(u=console)[P].apply(u,["[".concat(I,"]  ").concat(w.name,":")].concat(K))}},R=function(){function w(v){(0,a.e)(this,w),this.name=v,this._logLevel=g,this._logHandler=l,this._userLogHandler=null,r.push(this)}return(0,U.c)(w,[{key:"logLevel",get:function(){return this._logLevel},set:function(w){if(!(w in u))throw new TypeError('Invalid value "'.concat(w,'" assigned to `logLevel`'));this._logLevel=w}},{key:"setLogLevel",value:function(w){this._logLevel="string"===typeof w?Y[w]:w}},{key:"logHandler",get:function(){return this._logHandler},set:function(w){if("function"!==typeof w)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=w}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(w){this._userLogHandler=w}},{key:"debug",value:function(){for(var w=arguments.length,v=new Array(w),I=0;I<w;I++)v[I]=arguments[I];this._userLogHandler&&this._userLogHandler.apply(this,[this,u.DEBUG].concat(v)),this._logHandler.apply(this,[this,u.DEBUG].concat(v))}},{key:"log",value:function(){for(var w=arguments.length,v=new Array(w),I=0;I<w;I++)v[I]=arguments[I];this._userLogHandler&&this._userLogHandler.apply(this,[this,u.VERBOSE].concat(v)),this._logHandler.apply(this,[this,u.VERBOSE].concat(v))}},{key:"info",value:function(){for(var w=arguments.length,v=new Array(w),I=0;I<w;I++)v[I]=arguments[I];this._userLogHandler&&this._userLogHandler.apply(this,[this,u.INFO].concat(v)),this._logHandler.apply(this,[this,u.INFO].concat(v))}},{key:"warn",value:function(){for(var w=arguments.length,v=new Array(w),I=0;I<w;I++)v[I]=arguments[I];this._userLogHandler&&this._userLogHandler.apply(this,[this,u.WARN].concat(v)),this._logHandler.apply(this,[this,u.WARN].concat(v))}},{key:"error",value:function(){for(var w=arguments.length,v=new Array(w),I=0;I<w;I++)v[I]=arguments[I];this._userLogHandler&&this._userLogHandler.apply(this,[this,u.ERROR].concat(v)),this._logHandler.apply(this,[this,u.ERROR].concat(v))}}]),w}();var x=I(97326),j=I(60136),s=I(43668),B=I(28664),t=function(w){for(var v=[],I=0,P=0;P<w.length;P++){var u=w.charCodeAt(P);u<128?v[I++]=u:u<2048?(v[I++]=u>>6|192,v[I++]=63&u|128):55296===(64512&u)&&P+1<w.length&&56320===(64512&w.charCodeAt(P+1))?(u=65536+((1023&u)<<10)+(1023&w.charCodeAt(++P)),v[I++]=u>>18|240,v[I++]=u>>12&63|128,v[I++]=u>>6&63|128,v[I++]=63&u|128):(v[I++]=u>>12|224,v[I++]=u>>6&63|128,v[I++]=63&u|128)}return v};var i=function(w){(0,j.e)(I,w);var v=(0,s.d)(I);function I(w,P,u){var Q;return(0,a.e)(this,I),(Q=v.call(this,P)).code=w,Q.customData=u,Q.name="FirebaseError",Object.setPrototypeOf((0,x.d)(Q),I.prototype),Error.captureStackTrace&&Error.captureStackTrace((0,x.d)(Q),z.prototype.create),Q}return(0,U.c)(I)}((0,B.c)(Error)),z=function(){function w(v,I,P){(0,a.e)(this,w),this.service=v,this.serviceName=I,this.errors=P}return(0,U.c)(w,[{key:"create",value:function(w){var v=(arguments.length<=1?void 0:arguments[1])||{},I="".concat(this.service,"/").concat(w),P=this.errors[w],u=P?E(P,v):"Error",Q="".concat(this.serviceName,": ").concat(u," (").concat(I,")."),K=new i(I,Q,v);return K}}]),w}();function E(w,v){return w.replace(o,(function(w,I){var P=v[I];return null!=P?String(P):"<".concat(I,"?>")}))}var o=/\{\$([^}]+)}/g;function h(w,v){if(w===v)return!0;for(var I=Object.keys(w),P=Object.keys(v),u=0,Q=I;u<Q.length;u++){var K=Q[u];if(!P.includes(K))return!1;var a=w[K],U=v[K];if(n(a)&&n(U)){if(!h(a,U))return!1}else if(a!==U)return!1}for(var p=0,r=P;p<r.length;p++){var Y=r[p];if(!I.includes(Y))return!1}return!0}function n(w){return null!==w&&"object"===typeof w}var W,V;var F=function(){function w(v){(0,a.e)(this,w),this.container=v}return(0,U.c)(w,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(w){if(function(w){var v=w.getComponent();return"VERSION"===(null===v||void 0===v?void 0:v.type)}(w)){var v=w.getImmediate();return"".concat(v.library,"/").concat(v.version)}return null})).filter((function(w){return w})).join(" ")}}]),w}();var O="@firebase/app",N="0.7.4",q=new R("@firebase/app"),m="[DEFAULT]",c=(W={},(0,K.c)(W,O,"fire-core"),(0,K.c)(W,"@firebase/app-compat","fire-core-compat"),(0,K.c)(W,"@firebase/analytics","fire-analytics"),(0,K.c)(W,"@firebase/analytics-compat","fire-analytics-compat"),(0,K.c)(W,"@firebase/app-check","fire-app-check"),(0,K.c)(W,"@firebase/app-check-compat","fire-app-check-compat"),(0,K.c)(W,"@firebase/auth","fire-auth"),(0,K.c)(W,"@firebase/auth-compat","fire-auth-compat"),(0,K.c)(W,"@firebase/database","fire-rtdb"),(0,K.c)(W,"@firebase/database-compat","fire-rtdb-compat"),(0,K.c)(W,"@firebase/functions","fire-fn"),(0,K.c)(W,"@firebase/functions-compat","fire-fn-compat"),(0,K.c)(W,"@firebase/installations","fire-iid"),(0,K.c)(W,"@firebase/installations-compat","fire-iid-compat"),(0,K.c)(W,"@firebase/messaging","fire-fcm"),(0,K.c)(W,"@firebase/messaging-compat","fire-fcm-compat"),(0,K.c)(W,"@firebase/performance","fire-perf"),(0,K.c)(W,"@firebase/performance-compat","fire-perf-compat"),(0,K.c)(W,"@firebase/remote-config","fire-rc"),(0,K.c)(W,"@firebase/remote-config-compat","fire-rc-compat"),(0,K.c)(W,"@firebase/storage","fire-gcs"),(0,K.c)(W,"@firebase/storage-compat","fire-gcs-compat"),(0,K.c)(W,"@firebase/firestore","fire-fst"),(0,K.c)(W,"@firebase/firestore-compat","fire-fst-compat"),(0,K.c)(W,"fire-js","fire-js"),(0,K.c)(W,"firebase","fire-js-all"),W),M=new Map,S=new Map;function e(w,v){try{w.container.addComponent(v)}catch(I){q.debug("Component ".concat(v.name," failed to register with FirebaseApp ").concat(w.name),I)}}function H(w){var v=w.name;if(S.has(v))return q.debug("There were multiple attempts to register component ".concat(v,".")),!1;S.set(v,w);var I,P=(0,Q.b)(M.values());try{for(P.s();!(I=P.n()).done;){e(I.value,w)}}catch(w){P.e(w)}finally{P.f()}return!0}function G(w,v){return w.container.getProvider(v)}var L,d=(V={},(0,K.c)(V,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),(0,K.c)(V,"bad-app-name","Illegal App name: '{$appName}"),(0,K.c)(V,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),(0,K.c)(V,"app-deleted","Firebase App named '{$appName}' already deleted"),(0,K.c)(V,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),(0,K.c)(V,"invalid-log-argument","First argument to `onLog` must be null or a function."),V),D=new z("app","Firebase",d),f=function(){function w(v,I,P){var u=this;(0,a.e)(this,w),this._isDeleted=!1,this._options=Object.assign({},v),this._config=Object.assign({},I),this._name=I.name,this._automaticDataCollectionEnabled=I.automaticDataCollectionEnabled,this._container=P,this.container.addComponent(new p.f("app",(function(){return u}),"PUBLIC"))}return(0,U.c)(w,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(w){this.checkDestroyed(),this._automaticDataCollectionEnabled=w}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(w){this._isDeleted=w}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw D.create("app-deleted",{appName:this._name})}}]),w}(),b="9.1.3";function k(w){var v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof v){var I=v;v={name:I}}var P=Object.assign({name:m,automaticDataCollectionEnabled:!1},v),u=P.name;if("string"!==typeof u||!u)throw D.create("bad-app-name",{appName:String(u)});var K=M.get(u);if(K){if(h(w,K.options)&&h(P,K.config))return K;throw D.create("duplicate-app",{appName:u})}var a,U=new p.d(u),r=(0,Q.b)(S.values());try{for(r.s();!(a=r.n()).done;){var Y=a.value;U.addComponent(Y)}}catch(w){r.e(w)}finally{r.f()}var g=new f(w,P,U);return M.set(u,g),g}function C(){var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,v=M.get(w);if(!v)throw D.create("no-app",{appName:w});return v}function y(w,v,I){var P,u=null!==(P=c[w])&&void 0!==P?P:w;I&&(u+="-".concat(I));var Q=u.match(/\s|\//),K=v.match(/\s|\//);if(Q||K){var a=['Unable to register library "'.concat(u,'" with version "').concat(v,'":')];return Q&&a.push('library name "'.concat(u,'" contains illegal characters (whitespace or "/")')),Q&&K&&a.push("and"),K&&a.push('version name "'.concat(v,'" contains illegal characters (whitespace or "/")')),void q.warn(a.join(" "))}H(new p.f("".concat(u,"-version"),(function(){return{library:u,version:v}}),"VERSION"))}L="",H(new p.f("platform-logger",(function(w){return new F(w)}),"PRIVATE")),y(O,N,L),y(O,N,"esm2017"),y("fire-js","")},56053:function(w,v,I){"use strict";I.d(v,{f:function(){return t},d:function(){return E}});function P(w,v,I,P){return new(I||(I=Promise))((function(u,Q){function K(w){try{U(P.next(w))}catch(w){Q(w)}}function a(w){try{U(P.throw(w))}catch(w){Q(w)}}function U(w){var v;w.done?u(w.value):(v=w.value,v instanceof I?v:new I((function(w){w(v)}))).then(K,a)}U((P=P.apply(w,v||[])).next())}))}function u(w,v){var I,P,u,Q,K={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return Q={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(Q[Symbol.iterator]=function(){return this}),Q;function a(Q){return function(a){return function(Q){if(I)throw new TypeError("Generator is already executing.");for(;K;)try{if(I=1,P&&(u=2&Q[0]?P.return:Q[0]?P.throw||((u=P.return)&&u.call(P),0):P.next)&&!(u=u.call(P,Q[1])).done)return u;switch(P=0,u&&(Q=[2&Q[0],u.value]),Q[0]){case 0:case 1:u=Q;break;case 4:return K.label++,{value:Q[1],done:!1};case 5:K.label++,P=Q[1],Q=[0];continue;case 7:Q=K.ops.pop(),K.trys.pop();continue;default:if(!(u=(u=K.trys).length>0&&u[u.length-1])&&(6===Q[0]||2===Q[0])){K=0;continue}if(3===Q[0]&&(!u||Q[1]>u[0]&&Q[1]<u[3])){K.label=Q[1];break}if(6===Q[0]&&K.label<u[1]){K.label=u[1],u=Q;break}if(u&&K.label<u[2]){K.label=u[2],K.ops.push(Q);break}u[2]&&K.ops.pop(),K.trys.pop();continue}Q=v.call(w,K)}catch(w){Q=[6,w],P=0}finally{I=u=0}if(5&Q[0])throw Q[1];return{value:Q[0]?Q[1]:void 0,done:!0}}([Q,a])}}}Object.create;function Q(w){var v="function"===typeof Symbol&&Symbol.iterator,I=v&&w[v],P=0;if(I)return I.call(w);if(w&&"number"===typeof w.length)return{next:function(){return w&&P>=w.length&&(w=void 0),{value:w&&w[P++],done:!w}}};throw new TypeError(v?"Object is not iterable.":"Symbol.iterator is not defined.")}function K(w,v){var I="function"===typeof Symbol&&w[Symbol.iterator];if(!I)return w;var P,u,Q=I.call(w),K=[];try{for(;(void 0===v||v-->0)&&!(P=Q.next()).done;)K.push(P.value)}catch(w){u={error:w}}finally{try{P&&!P.done&&(I=Q.return)&&I.call(Q)}finally{if(u)throw u.error}}return K}function a(w,v,I){if(I||2===arguments.length)for(var P,u=0,Q=v.length;u<Q;u++)!P&&u in v||(P||(P=Array.prototype.slice.call(v,0,u)),P[u]=v[u]);return w.concat(P||Array.prototype.slice.call(v))}Object.create;var U=I(97326),p=I(60136),r=I(43668),Y=I(28664),g=I(15671),J=I(43144),l=function(w){for(var v=[],I=0,P=0;P<w.length;P++){var u=w.charCodeAt(P);u<128?v[I++]=u:u<2048?(v[I++]=u>>6|192,v[I++]=63&u|128):55296===(64512&u)&&P+1<w.length&&56320===(64512&w.charCodeAt(P+1))?(u=65536+((1023&u)<<10)+(1023&w.charCodeAt(++P)),v[I++]=u>>18|240,v[I++]=u>>12&63|128,v[I++]=u>>6&63|128,v[I++]=63&u|128):(v[I++]=u>>12|224,v[I++]=u>>6&63|128,v[I++]=63&u|128)}return v};var R=function(){function w(){var v=this;(0,g.e)(this,w),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(w,I){v.resolve=w,v.reject=I}))}return(0,J.c)(w,[{key:"wrapCallback",value:function(w){var v=this;return function(I,P){I?v.reject(I):v.resolve(P),"function"===typeof w&&(v.promise.catch((function(){})),1===w.length?w(I):w(I,P))}}}]),w}();var x=function(w){(0,p.e)(I,w);var v=(0,r.d)(I);function I(w,P,u){var Q;return(0,g.e)(this,I),(Q=v.call(this,P)).code=w,Q.customData=u,Q.name="FirebaseError",Object.setPrototypeOf((0,U.d)(Q),I.prototype),Error.captureStackTrace&&Error.captureStackTrace((0,U.d)(Q),j.prototype.create),Q}return(0,J.c)(I)}((0,Y.c)(Error)),j=function(){function w(v,I,P){(0,g.e)(this,w),this.service=v,this.serviceName=I,this.errors=P}return(0,J.c)(w,[{key:"create",value:function(w){var v=(arguments.length<=1?void 0:arguments[1])||{},I="".concat(this.service,"/").concat(w),P=this.errors[w],u=P?s(P,v):"Error",Q="".concat(this.serviceName,": ").concat(u," (").concat(I,")."),K=new x(I,Q,v);return K}}]),w}();function s(w,v){return w.replace(B,(function(w,I){var P=v[I];return null!=P?String(P):"<".concat(I,"?>")}))}var B=/\{\$([^}]+)}/g;var t=function(){function w(w,v,I){this.name=w,this.instanceFactory=v,this.type=I,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return w.prototype.setInstantiationMode=function(w){return this.instantiationMode=w,this},w.prototype.setMultipleInstances=function(w){return this.multipleInstances=w,this},w.prototype.setServiceProps=function(w){return this.serviceProps=w,this},w.prototype.setInstanceCreatedCallback=function(w){return this.onInstanceCreated=w,this},w}(),i="[DEFAULT]",z=function(){function w(w,v){this.name=w,this.container=v,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return w.prototype.get=function(w){var v=this.normalizeInstanceIdentifier(w);if(!this.instancesDeferred.has(v)){var I=new R;if(this.instancesDeferred.set(v,I),this.isInitialized(v)||this.shouldAutoInitialize())try{var P=this.getOrInitializeService({instanceIdentifier:v});P&&I.resolve(P)}catch(w){}}return this.instancesDeferred.get(v).promise},w.prototype.getImmediate=function(w){var v,I=this.normalizeInstanceIdentifier(null===w||void 0===w?void 0:w.identifier),P=null!==(v=null===w||void 0===w?void 0:w.optional)&&void 0!==v&&v;if(!this.isInitialized(I)&&!this.shouldAutoInitialize()){if(P)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:I})}catch(w){if(P)return null;throw w}},w.prototype.getComponent=function(){return this.component},w.prototype.setComponent=function(w){var v,I;if(w.name!==this.name)throw Error("Mismatching Component "+w.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=w,this.shouldAutoInitialize()){if(function(w){return"EAGER"===w.instantiationMode}(w))try{this.getOrInitializeService({instanceIdentifier:i})}catch(w){}try{for(var P=Q(this.instancesDeferred.entries()),u=P.next();!u.done;u=P.next()){var a=K(u.value,2),U=a[0],p=a[1],r=this.normalizeInstanceIdentifier(U);try{var Y=this.getOrInitializeService({instanceIdentifier:r});p.resolve(Y)}catch(w){}}}catch(w){v={error:w}}finally{try{u&&!u.done&&(I=P.return)&&I.call(P)}finally{if(v)throw v.error}}}},w.prototype.clearInstance=function(w){void 0===w&&(w=i),this.instancesDeferred.delete(w),this.instancesOptions.delete(w),this.instances.delete(w)},w.prototype.delete=function(){return P(this,void 0,void 0,(function(){var w;return u(this,(function(v){switch(v.label){case 0:return w=Array.from(this.instances.values()),[4,Promise.all(a(a([],K(w.filter((function(w){return"INTERNAL"in w})).map((function(w){return w.INTERNAL.delete()})))),K(w.filter((function(w){return"_delete"in w})).map((function(w){return w._delete()})))))];case 1:return v.sent(),[2]}}))}))},w.prototype.isComponentSet=function(){return null!=this.component},w.prototype.isInitialized=function(w){return void 0===w&&(w=i),this.instances.has(w)},w.prototype.getOptions=function(w){return void 0===w&&(w=i),this.instancesOptions.get(w)||{}},w.prototype.initialize=function(w){var v,I;void 0===w&&(w={});var P=w.options,u=void 0===P?{}:P,a=this.normalizeInstanceIdentifier(w.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var U=this.getOrInitializeService({instanceIdentifier:a,options:u});try{for(var p=Q(this.instancesDeferred.entries()),r=p.next();!r.done;r=p.next()){var Y=K(r.value,2),g=Y[0],J=Y[1];a===this.normalizeInstanceIdentifier(g)&&J.resolve(U)}}catch(w){v={error:w}}finally{try{r&&!r.done&&(I=p.return)&&I.call(p)}finally{if(v)throw v.error}}return U},w.prototype.onInit=function(w,v){var I,P=this.normalizeInstanceIdentifier(v),u=null!==(I=this.onInitCallbacks.get(P))&&void 0!==I?I:new Set;u.add(w),this.onInitCallbacks.set(P,u);var Q=this.instances.get(P);return Q&&w(Q,P),function(){u.delete(w)}},w.prototype.invokeOnInitCallbacks=function(w,v){var I,P,u=this.onInitCallbacks.get(v);if(u)try{for(var K=Q(u),a=K.next();!a.done;a=K.next()){var U=a.value;try{U(w,v)}catch(w){}}}catch(w){I={error:w}}finally{try{a&&!a.done&&(P=K.return)&&P.call(K)}finally{if(I)throw I.error}}},w.prototype.getOrInitializeService=function(w){var v,I=w.instanceIdentifier,P=w.options,u=void 0===P?{}:P,Q=this.instances.get(I);if(!Q&&this.component&&(Q=this.component.instanceFactory(this.container,{instanceIdentifier:(v=I,v===i?void 0:v),options:u}),this.instances.set(I,Q),this.instancesOptions.set(I,u),this.invokeOnInitCallbacks(Q,I),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,I,Q)}catch(w){}return Q||null},w.prototype.normalizeInstanceIdentifier=function(w){return void 0===w&&(w=i),this.component?this.component.multipleInstances?w:i:w},w.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},w}();var E=function(){function w(w){this.name=w,this.providers=new Map}return w.prototype.addComponent=function(w){var v=this.getProvider(w.name);if(v.isComponentSet())throw new Error("Component "+w.name+" has already been registered with "+this.name);v.setComponent(w)},w.prototype.addOrOverwriteComponent=function(w){this.getProvider(w.name).isComponentSet()&&this.providers.delete(w.name),this.addComponent(w)},w.prototype.getProvider=function(w){if(this.providers.has(w))return this.providers.get(w);var v=new z(w,this);return this.providers.set(w,v),v},w.prototype.getProviders=function(){return Array.from(this.providers.values())},w}()},68206:function(w,v,I){"use strict";I.d(v,{c:function(){return vI},e:function(){return PI}});var P,u,Q=I(29439),K=I(37762),a=I(15671),U=I(43144),p=I(4942),r=I(15861),Y=I(64687),g=I.n(Y),J=I(19642),l=[];!function(w){w[w.DEBUG=0]="DEBUG",w[w.VERBOSE=1]="VERBOSE",w[w.INFO=2]="INFO",w[w.WARN=3]="WARN",w[w.ERROR=4]="ERROR",w[w.SILENT=5]="SILENT"}(u||(u={}));var R={debug:u.DEBUG,verbose:u.VERBOSE,info:u.INFO,warn:u.WARN,error:u.ERROR,silent:u.SILENT},x=u.INFO,j=(P={},(0,p.c)(P,u.DEBUG,"log"),(0,p.c)(P,u.VERBOSE,"log"),(0,p.c)(P,u.INFO,"info"),(0,p.c)(P,u.WARN,"warn"),(0,p.c)(P,u.ERROR,"error"),P),s=function(w,v){if(!(v<w.logLevel)){var I=(new Date).toISOString(),P=j[v];if(!P)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(v,")"));for(var u,Q=arguments.length,K=new Array(Q>2?Q-2:0),a=2;a<Q;a++)K[a-2]=arguments[a];(u=console)[P].apply(u,["[".concat(I,"]  ").concat(w.name,":")].concat(K))}},B=function(){function w(v){(0,a.e)(this,w),this.name=v,this._logLevel=x,this._logHandler=s,this._userLogHandler=null,l.push(this)}return(0,U.c)(w,[{key:"logLevel",get:function(){return this._logLevel},set:function(w){if(!(w in u))throw new TypeError('Invalid value "'.concat(w,'" assigned to `logLevel`'));this._logLevel=w}},{key:"setLogLevel",value:function(w){this._logLevel="string"===typeof w?R[w]:w}},{key:"logHandler",get:function(){return this._logHandler},set:function(w){if("function"!==typeof w)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=w}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(w){this._userLogHandler=w}},{key:"debug",value:function(){for(var w=arguments.length,v=new Array(w),I=0;I<w;I++)v[I]=arguments[I];this._userLogHandler&&this._userLogHandler.apply(this,[this,u.DEBUG].concat(v)),this._logHandler.apply(this,[this,u.DEBUG].concat(v))}},{key:"log",value:function(){for(var w=arguments.length,v=new Array(w),I=0;I<w;I++)v[I]=arguments[I];this._userLogHandler&&this._userLogHandler.apply(this,[this,u.VERBOSE].concat(v)),this._logHandler.apply(this,[this,u.VERBOSE].concat(v))}},{key:"info",value:function(){for(var w=arguments.length,v=new Array(w),I=0;I<w;I++)v[I]=arguments[I];this._userLogHandler&&this._userLogHandler.apply(this,[this,u.INFO].concat(v)),this._logHandler.apply(this,[this,u.INFO].concat(v))}},{key:"warn",value:function(){for(var w=arguments.length,v=new Array(w),I=0;I<w;I++)v[I]=arguments[I];this._userLogHandler&&this._userLogHandler.apply(this,[this,u.WARN].concat(v)),this._logHandler.apply(this,[this,u.WARN].concat(v))}},{key:"error",value:function(){for(var w=arguments.length,v=new Array(w),I=0;I<w;I++)v[I]=arguments[I];this._userLogHandler&&this._userLogHandler.apply(this,[this,u.ERROR].concat(v)),this._logHandler.apply(this,[this,u.ERROR].concat(v))}}]),w}();var t=I(97326),i=I(60136),z=I(43668),E=I(28664),o=function(w){for(var v=[],I=0,P=0;P<w.length;P++){var u=w.charCodeAt(P);u<128?v[I++]=u:u<2048?(v[I++]=u>>6|192,v[I++]=63&u|128):55296===(64512&u)&&P+1<w.length&&56320===(64512&w.charCodeAt(P+1))?(u=65536+((1023&u)<<10)+(1023&w.charCodeAt(++P)),v[I++]=u>>18|240,v[I++]=u>>12&63|128,v[I++]=u>>6&63|128,v[I++]=63&u|128):(v[I++]=u>>12|224,v[I++]=u>>6&63|128,v[I++]=63&u|128)}return v};function h(){return"object"===typeof indexedDB}function n(){return new Promise((function(w,v){try{var I=!0,P="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(P);u.onsuccess=function(){u.result.close(),I||self.indexedDB.deleteDatabase(P),w(!0)},u.onupgradeneeded=function(){I=!1},u.onerror=function(){var w;v((null===(w=u.error)||void 0===w?void 0:w.message)||"")}}catch(w){v(w)}}))}var W=function(w){(0,i.e)(I,w);var v=(0,z.d)(I);function I(w,P,u){var Q;return(0,a.e)(this,I),(Q=v.call(this,P)).code=w,Q.customData=u,Q.name="FirebaseError",Object.setPrototypeOf((0,t.d)(Q),I.prototype),Error.captureStackTrace&&Error.captureStackTrace((0,t.d)(Q),V.prototype.create),Q}return(0,U.c)(I)}((0,E.c)(Error)),V=function(){function w(v,I,P){(0,a.e)(this,w),this.service=v,this.serviceName=I,this.errors=P}return(0,U.c)(w,[{key:"create",value:function(w){var v=(arguments.length<=1?void 0:arguments[1])||{},I="".concat(this.service,"/").concat(w),P=this.errors[w],u=P?F(P,v):"Error",Q="".concat(this.serviceName,": ").concat(u," (").concat(I,")."),K=new W(I,Q,v);return K}}]),w}();function F(w,v){return w.replace(O,(function(w,I){var P=v[I];return null!=P?String(P):"<".concat(I,"?>")}))}var O=/\{\$([^}]+)}/g;function N(w,v){if(w===v)return!0;for(var I=Object.keys(w),P=Object.keys(v),u=0,Q=I;u<Q.length;u++){var K=Q[u];if(!P.includes(K))return!1;var a=w[K],U=v[K];if(q(a)&&q(U)){if(!N(a,U))return!1}else if(a!==U)return!1}for(var p=0,r=P;p<r.length;p++){var Y=r[p];if(!I.includes(Y))return!1}return!0}function q(w){return null!==w&&"object"===typeof w}var m=144e5;function c(w){var v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,I=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,P=v*Math.pow(I,w),u=Math.round(.5*P*(Math.random()-.5)*2);return Math.min(m,P+u)}function M(w){return w&&w._delegate?w._delegate:w}var S=I(56053),e=I(93433),H=function(w){for(var v=[],I=0,P=0;P<w.length;P++){var u=w.charCodeAt(P);u<128?v[I++]=u:u<2048?(v[I++]=u>>6|192,v[I++]=63&u|128):55296===(64512&u)&&P+1<w.length&&56320===(64512&w.charCodeAt(P+1))?(u=65536+((1023&u)<<10)+(1023&w.charCodeAt(++P)),v[I++]=u>>18|240,v[I++]=u>>12&63|128,v[I++]=u>>6&63|128,v[I++]=63&u|128):(v[I++]=u>>12|224,v[I++]=u>>6&63|128,v[I++]=63&u|128)}return v};var G=function(w){(0,i.e)(I,w);var v=(0,z.d)(I);function I(w,P,u){var Q;return(0,a.e)(this,I),(Q=v.call(this,P)).code=w,Q.customData=u,Q.name="FirebaseError",Object.setPrototypeOf((0,t.d)(Q),I.prototype),Error.captureStackTrace&&Error.captureStackTrace((0,t.d)(Q),L.prototype.create),Q}return(0,U.c)(I)}((0,E.c)(Error)),L=function(){function w(v,I,P){(0,a.e)(this,w),this.service=v,this.serviceName=I,this.errors=P}return(0,U.c)(w,[{key:"create",value:function(w){var v=(arguments.length<=1?void 0:arguments[1])||{},I="".concat(this.service,"/").concat(w),P=this.errors[w],u=P?d(P,v):"Error",Q="".concat(this.serviceName,": ").concat(u," (").concat(I,")."),K=new G(I,Q,v);return K}}]),w}();function d(w,v){return w.replace(D,(function(w,I){var P=v[I];return null!=P?String(P):"<".concat(I,"?>")}))}var D=/\{\$([^}]+)}/g;var f,b=I(64890),k="@firebase/installations",C="0.5.2",y=1e4,T="w:".concat(C),Z="FIS_v2",A=36e5,X=(f={},(0,p.c)(f,"missing-app-config-values",'Missing App configuration value: "{$valueName}"'),(0,p.c)(f,"not-registered","Firebase Installation is not registered."),(0,p.c)(f,"installation-not-found","Firebase Installation not found."),(0,p.c)(f,"request-failed",'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"'),(0,p.c)(f,"app-offline","Could not process request. Application offline."),(0,p.c)(f,"delete-pending-registration","Can't delete installation while there is a pending registration request."),f),ww=new L("installations","Installations",X);function vw(w){return w instanceof G&&w.code.includes("request-failed")}function Iw(w){var v=w.projectId;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(v,"/installations")}function Pw(w){return{token:w.token,requestStatus:2,expiresIn:(v=w.expiresIn,Number(v.replace("s","000"))),creationTime:Date.now()};var v}function uw(w,v){return Qw.apply(this,arguments)}function Qw(){return(Qw=(0,r.e)(g().mark((function w(v,I){var P,u;return g().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,I.json();case 2:return P=w.sent,u=P.error,w.abrupt("return",ww.create("request-failed",{requestName:v,serverCode:u.code,serverMessage:u.message,serverStatus:u.status}));case 5:case"end":return w.stop()}}),w)})))).apply(this,arguments)}function Kw(w){var v=w.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":v})}function aw(w,v){var I=v.refreshToken,P=Kw(w);return P.append("Authorization",function(w){return"".concat(Z," ").concat(w)}(I)),P}function Uw(w){return pw.apply(this,arguments)}function pw(){return(pw=(0,r.e)(g().mark((function w(v){var I;return g().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,v();case 2:if(!((I=w.sent).status>=500&&I.status<600)){w.next=5;break}return w.abrupt("return",v());case 5:return w.abrupt("return",I);case 6:case"end":return w.stop()}}),w)})))).apply(this,arguments)}function rw(w,v){return Yw.apply(this,arguments)}function Yw(){return(Yw=(0,r.e)(g().mark((function w(v,I){var P,u,Q,K,a,U,p,r;return g().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:return P=I.fid,u=Iw(v),Q=Kw(v),K={fid:P,authVersion:Z,appId:v.appId,sdkVersion:T},a={method:"POST",headers:Q,body:JSON.stringify(K)},w.next=7,Uw((function(){return fetch(u,a)}));case 7:if(!(U=w.sent).ok){w.next=16;break}return w.next=11,U.json();case 11:return p=w.sent,r={fid:p.fid||P,registrationStatus:2,refreshToken:p.refreshToken,authToken:Pw(p.authToken)},w.abrupt("return",r);case 16:return w.next=18,uw("Create Installation",U);case 18:throw w.sent;case 19:case"end":return w.stop()}}),w)})))).apply(this,arguments)}function gw(w){return new Promise((function(v){setTimeout(v,w)}))}var Jw=/^[cdef][\w-]{21}$/;function lw(){try{var w=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(w),w[0]=112+w[0]%16;var v=function(w){return(v=w,btoa(String.fromCharCode.apply(String,(0,e.d)(v))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var v}(w);return Jw.test(v)?v:""}catch(w){return""}}function Rw(w){return"".concat(w.appName,"!").concat(w.appId)}var xw=new Map;function jw(w,v){var I=Rw(w);sw(I,v),function(w,v){var I=tw();I&&I.postMessage({key:w,fid:v});iw()}(I,v)}function sw(w,v){var I=xw.get(w);if(I){var P,u=(0,K.b)(I);try{for(u.s();!(P=u.n()).done;){(0,P.value)(v)}}catch(w){u.e(w)}finally{u.f()}}}var Bw=null;function tw(){return!Bw&&"BroadcastChannel"in self&&((Bw=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(w){sw(w.data.key,w.data.fid)}),Bw}function iw(){0===xw.size&&Bw&&(Bw.close(),Bw=null)}var zw="firebase-installations-store",Ew=null;function ow(){return Ew||(Ew=(0,b.openDb)("firebase-installations-database",1,(function(w){if(0===w.oldVersion)w.createObjectStore(zw)}))),Ew}function hw(w,v){return nw.apply(this,arguments)}function nw(){return(nw=(0,r.e)(g().mark((function w(v,I){var P,u,Q,K,a;return g().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:return P=Rw(v),w.next=3,ow();case 3:return u=w.sent,Q=u.transaction(zw,"readwrite"),K=Q.objectStore(zw),w.next=8,K.get(P);case 8:return a=w.sent,w.next=11,K.put(I,P);case 11:return w.next=13,Q.complete;case 13:return a&&a.fid===I.fid||jw(v,I.fid),w.abrupt("return",I);case 15:case"end":return w.stop()}}),w)})))).apply(this,arguments)}function Ww(w){return Vw.apply(this,arguments)}function Vw(){return(Vw=(0,r.e)(g().mark((function w(v){var I,P,u;return g().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:return I=Rw(v),w.next=3,ow();case 3:return P=w.sent,u=P.transaction(zw,"readwrite"),w.next=7,u.objectStore(zw).delete(I);case 7:return w.next=9,u.complete;case 9:case"end":return w.stop()}}),w)})))).apply(this,arguments)}function Fw(w,v){return Ow.apply(this,arguments)}function Ow(){return(Ow=(0,r.e)(g().mark((function w(v,I){var P,u,Q,K,a,U;return g().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:return P=Rw(v),w.next=3,ow();case 3:return u=w.sent,Q=u.transaction(zw,"readwrite"),K=Q.objectStore(zw),w.next=8,K.get(P);case 8:if(a=w.sent,void 0!==(U=I(a))){w.next=15;break}return w.next=13,K.delete(P);case 13:w.next=17;break;case 15:return w.next=17,K.put(U,P);case 17:return w.next=19,Q.complete;case 19:return!U||a&&a.fid===U.fid||jw(v,U.fid),w.abrupt("return",U);case 21:case"end":return w.stop()}}),w)})))).apply(this,arguments)}function Nw(w){return qw.apply(this,arguments)}function qw(){return(qw=(0,r.e)(g().mark((function w(v){var I,P;return g().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,Fw(v,(function(w){var P=mw(w),u=cw(v,P);return I=u.registrationPromise,u.installationEntry}));case 2:if(""!==(P=w.sent).fid){w.next=8;break}return w.next=6,I;case 6:return w.t0=w.sent,w.abrupt("return",{installationEntry:w.t0});case 8:return w.abrupt("return",{installationEntry:P,registrationPromise:I});case 9:case"end":return w.stop()}}),w)})))).apply(this,arguments)}function mw(w){return Gw(w||{fid:lw(),registrationStatus:0})}function cw(w,v){if(0===v.registrationStatus){if(!navigator.onLine)return{installationEntry:v,registrationPromise:Promise.reject(ww.create("app-offline"))};var I={fid:v.fid,registrationStatus:1,registrationTime:Date.now()},P=function(w,v){return Mw.apply(this,arguments)}(w,I);return{installationEntry:I,registrationPromise:P}}return 1===v.registrationStatus?{installationEntry:v,registrationPromise:Sw(w)}:{installationEntry:v}}function Mw(){return(Mw=(0,r.e)(g().mark((function w(v,I){var P;return g().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:return w.prev=0,w.next=3,rw(v,I);case 3:return P=w.sent,w.abrupt("return",hw(v,P));case 7:if(w.prev=7,w.t0=w.catch(0),!vw(w.t0)||409!==w.t0.customData.serverCode){w.next=14;break}return w.next=12,Ww(v);case 12:w.next=16;break;case 14:return w.next=16,hw(v,{fid:I.fid,registrationStatus:0});case 16:throw w.t0;case 17:case"end":return w.stop()}}),w,null,[[0,7]])})))).apply(this,arguments)}function Sw(w){return ew.apply(this,arguments)}function ew(){return(ew=(0,r.e)(g().mark((function w(v){var I,P,u,Q;return g().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,Hw(v);case 2:I=w.sent;case 3:if(1!==I.registrationStatus){w.next=11;break}return w.next=6,gw(100);case 6:return w.next=8,Hw(v);case 8:I=w.sent,w.next=3;break;case 11:if(0!==I.registrationStatus){w.next=22;break}return w.next=14,Nw(v);case 14:if(P=w.sent,u=P.installationEntry,!(Q=P.registrationPromise)){w.next=21;break}return w.abrupt("return",Q);case 21:return w.abrupt("return",u);case 22:return w.abrupt("return",I);case 23:case"end":return w.stop()}}),w)})))).apply(this,arguments)}function Hw(w){return Fw(w,(function(w){if(!w)throw ww.create("installation-not-found");return Gw(w)}))}function Gw(w){return 1===(v=w).registrationStatus&&v.registrationTime+y<Date.now()?{fid:w.fid,registrationStatus:0}:w;var v}function Lw(w,v){return dw.apply(this,arguments)}function dw(){return(dw=(0,r.e)(g().mark((function w(v,I){var P,u,Q,K,a,U,p,r,Y,J;return g().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:return P=v.appConfig,u=v.platformLoggerProvider,Q=Dw(P,I),K=aw(P,I),(a=u.getImmediate({optional:!0}))&&K.append("x-firebase-client",a.getPlatformInfoString()),U={installation:{sdkVersion:T}},p={method:"POST",headers:K,body:JSON.stringify(U)},w.next=9,Uw((function(){return fetch(Q,p)}));case 9:if(!(r=w.sent).ok){w.next=18;break}return w.next=13,r.json();case 13:return Y=w.sent,J=Pw(Y),w.abrupt("return",J);case 18:return w.next=20,uw("Generate Auth Token",r);case 20:throw w.sent;case 21:case"end":return w.stop()}}),w)})))).apply(this,arguments)}function Dw(w,v){var I=v.fid;return"".concat(Iw(w),"/").concat(I,"/authTokens:generate")}function fw(w){return bw.apply(this,arguments)}function bw(){return bw=(0,r.e)(g().mark((function w(v){var I,P,u,Q,K=arguments;return g().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:return I=K.length>1&&void 0!==K[1]&&K[1],w.next=3,Fw(v.appConfig,(function(w){if(!Aw(w))throw ww.create("not-registered");var u=w.authToken;if(!I&&Xw(u))return w;if(1===u.requestStatus)return P=kw(v,I),w;if(!navigator.onLine)throw ww.create("app-offline");var Q=wv(w);return P=Tw(v,Q),Q}));case 3:if(u=w.sent,!P){w.next=10;break}return w.next=7,P;case 7:w.t0=w.sent,w.next=11;break;case 10:w.t0=u.authToken;case 11:return Q=w.t0,w.abrupt("return",Q);case 13:case"end":return w.stop()}}),w)}))),bw.apply(this,arguments)}function kw(w,v){return Cw.apply(this,arguments)}function Cw(){return(Cw=(0,r.e)(g().mark((function w(v,I){var P,u;return g().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,yw(v.appConfig);case 2:P=w.sent;case 3:if(1!==P.authToken.requestStatus){w.next=11;break}return w.next=6,gw(100);case 6:return w.next=8,yw(v.appConfig);case 8:P=w.sent,w.next=3;break;case 11:if(0!==(u=P.authToken).requestStatus){w.next=16;break}return w.abrupt("return",fw(v,I));case 16:return w.abrupt("return",u);case 17:case"end":return w.stop()}}),w)})))).apply(this,arguments)}function yw(w){return Fw(w,(function(w){if(!Aw(w))throw ww.create("not-registered");var v,I=w.authToken;return 1===(v=I).requestStatus&&v.requestTime+y<Date.now()?Object.assign(Object.assign({},w),{authToken:{requestStatus:0}}):w}))}function Tw(w,v){return Zw.apply(this,arguments)}function Zw(){return(Zw=(0,r.e)(g().mark((function w(v,I){var P,u,Q;return g().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:return w.prev=0,w.next=3,Lw(v,I);case 3:return P=w.sent,u=Object.assign(Object.assign({},I),{authToken:P}),w.next=7,hw(v.appConfig,u);case 7:return w.abrupt("return",P);case 10:if(w.prev=10,w.t0=w.catch(0),!vw(w.t0)||401!==w.t0.customData.serverCode&&404!==w.t0.customData.serverCode){w.next=17;break}return w.next=15,Ww(v.appConfig);case 15:w.next=20;break;case 17:return Q=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}),w.next=20,hw(v.appConfig,Q);case 20:throw w.t0;case 21:case"end":return w.stop()}}),w,null,[[0,10]])})))).apply(this,arguments)}function Aw(w){return void 0!==w&&2===w.registrationStatus}function Xw(w){return 2===w.requestStatus&&!function(w){var v=Date.now();return v<w.creationTime||w.creationTime+w.expiresIn<v+A}(w)}function wv(w){var v={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},w),{authToken:v})}function vv(){return(vv=(0,r.e)(g().mark((function w(v){var I,P,u,Q;return g().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:return I=v,w.next=3,Nw(I.appConfig);case 3:return P=w.sent,u=P.installationEntry,(Q=P.registrationPromise)?Q.catch(console.error):fw(I).catch(console.error),w.abrupt("return",u.fid);case 8:case"end":return w.stop()}}),w)})))).apply(this,arguments)}function Iv(){return Iv=(0,r.e)(g().mark((function w(v){var I,P,u,Q=arguments;return g().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:return I=Q.length>1&&void 0!==Q[1]&&Q[1],P=v,w.next=4,Pv(P.appConfig);case 4:return w.next=6,fw(P,I);case 6:return u=w.sent,w.abrupt("return",u.token);case 8:case"end":return w.stop()}}),w)}))),Iv.apply(this,arguments)}function Pv(w){return uv.apply(this,arguments)}function uv(){return(uv=(0,r.e)(g().mark((function w(v){var I,P;return g().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,Nw(v);case 2:if(I=w.sent,!(P=I.registrationPromise)){w.next=7;break}return w.next=7,P;case 7:case"end":return w.stop()}}),w)})))).apply(this,arguments)}function Qv(w){return ww.create("missing-app-config-values",{valueName:w})}var Kv,av="installations",Uv=function(w){var v=w.getProvider("app").getImmediate(),I=function(w){if(!w||!w.options)throw Qv("App Configuration");if(!w.name)throw Qv("App Name");for(var v=0,I=["projectId","apiKey","appId"];v<I.length;v++){var P=I[v];if(!w.options[P])throw Qv(P)}return{appName:w.name,projectId:w.options.projectId,apiKey:w.options.apiKey,appId:w.options.appId}}(v);return{app:v,appConfig:I,platformLoggerProvider:(0,J.h)(v,"platform-logger"),_delete:function(){return Promise.resolve()}}},pv=function(w){var v=w.getProvider("app").getImmediate(),I=(0,J.h)(v,av).getImmediate(),P={getId:function(){return function(w){return vv.apply(this,arguments)}(I)},getToken:function(w){return function(w){return Iv.apply(this,arguments)}(I,w)}};return P};(0,J.l)(new S.f(av,Uv,"PUBLIC")),(0,J.l)(new S.f("installations-internal",pv,"PRIVATE")),(0,J.q)(k,C),(0,J.q)(k,C,"esm2017");var rv="analytics",Yv=6e4,gv="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Jv="https://www.googletagmanager.com/gtag/js",lv=new B("@firebase/analytics");function Rv(w){return Promise.all(w.map((function(w){return w.catch((function(w){return w}))})))}function xv(w,v){var I=document.createElement("script");I.src="".concat(Jv,"?l=").concat(w,"&id=").concat(v),I.async=!0,document.head.appendChild(I)}function jv(w,v,I,P,u,Q){return sv.apply(this,arguments)}function sv(){return sv=(0,r.e)(g().mark((function w(v,I,P,u,Q,K){var a,U,p;return g().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:if(a=u[Q],w.prev=1,!a){w.next=7;break}return w.next=5,I[a];case 5:w.next=14;break;case 7:return w.next=9,Rv(P);case 9:if(U=w.sent,!(p=U.find((function(w){return w.measurementId===Q})))){w.next=14;break}return w.next=14,I[p.appId];case 14:w.next=19;break;case 16:w.prev=16,w.t0=w.catch(1),lv.error(w.t0);case 19:v("config",Q,K);case 20:case"end":return w.stop()}}),w,null,[[1,16]])}))),sv.apply(this,arguments)}function Bv(w,v,I,P,u){return tv.apply(this,arguments)}function tv(){return tv=(0,r.e)(g().mark((function w(v,I,P,u,Q){var a,U,p,r,Y,J;return g().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:if(w.prev=0,a=[],!Q||!Q.send_to){w.next=26;break}return U=Q.send_to,Array.isArray(U)||(U=[U]),w.next=7,Rv(P);case 7:p=w.sent,r=(0,K.b)(U),w.prev=9,J=function(){var w=Y.value,v=p.find((function(v){return v.measurementId===w})),P=v&&I[v.appId];if(!P)return a=[],"break";a.push(P)},r.s();case 12:if((Y=r.n()).done){w.next=18;break}if("break"!==J()){w.next=16;break}return w.abrupt("break",18);case 16:w.next=12;break;case 18:w.next=23;break;case 20:w.prev=20,w.t0=w.catch(9),r.e(w.t0);case 23:return w.prev=23,r.f(),w.finish(23);case 26:return 0===a.length&&(a=Object.values(I)),w.next=29,Promise.all(a);case 29:v("event",u,Q||{}),w.next=35;break;case 32:w.prev=32,w.t1=w.catch(0),lv.error(w.t1);case 35:case"end":return w.stop()}}),w,null,[[0,32],[9,20,23,26]])}))),tv.apply(this,arguments)}function iv(w,v,I,P,u){var Q=function(){for(var w=arguments.length,v=new Array(w),I=0;I<w;I++)v[I]=arguments[I];window[P].push(arguments)};return window[u]&&"function"===typeof window[u]&&(Q=window[u]),window[u]=function(w,v,I,P){function u(){return(u=(0,r.e)(g().mark((function u(Q,K,a){return g().wrap((function(u){for(;;)switch(u.prev=u.next){case 0:if(u.prev=0,"event"!==Q){u.next=6;break}return u.next=4,Bv(w,v,I,K,a);case 4:u.next=12;break;case 6:if("config"!==Q){u.next=11;break}return u.next=9,jv(w,v,I,P,K,a);case 9:u.next=12;break;case 11:w("set",K);case 12:u.next=17;break;case 14:u.prev=14,u.t0=u.catch(0),lv.error(u.t0);case 17:case"end":return u.stop()}}),u,null,[[0,14]])})))).apply(this,arguments)}return function(w,v,I){return u.apply(this,arguments)}}(Q,w,v,I),{gtagCore:Q,wrappedGtag:window[u]}}function zv(){for(var w=window.document.getElementsByTagName("script"),v=0,I=Object.values(w);v<I.length;v++){var P=I[v];if(P.src&&P.src.includes(Jv))return P}return null}var Ev=(Kv={},(0,p.c)(Kv,"already-exists","A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId."),(0,p.c)(Kv,"already-initialized","initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance."),(0,p.c)(Kv,"already-initialized-settings","Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect."),(0,p.c)(Kv,"interop-component-reg-failed","Firebase Analytics Interop Component failed to instantiate: {$reason}"),(0,p.c)(Kv,"invalid-analytics-context","Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}"),(0,p.c)(Kv,"indexeddb-unavailable","IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}"),(0,p.c)(Kv,"fetch-throttle","The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}."),(0,p.c)(Kv,"config-fetch-failed","Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}"),(0,p.c)(Kv,"no-api-key",'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.'),(0,p.c)(Kv,"no-app-id",'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'),Kv),ov=new V("analytics","Analytics",Ev),hv=function(){function w(){var v=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},I=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;(0,a.e)(this,w),this.throttleMetadata=v,this.intervalMillis=I}return(0,U.c)(w,[{key:"getThrottleMetadata",value:function(w){return this.throttleMetadata[w]}},{key:"setThrottleMetadata",value:function(w,v){this.throttleMetadata[w]=v}},{key:"deleteThrottleMetadata",value:function(w){delete this.throttleMetadata[w]}}]),w}(),nv=new hv;function Wv(w){return new Headers({Accept:"application/json","x-goog-api-key":w})}function Vv(w){return Fv.apply(this,arguments)}function Fv(){return(Fv=(0,r.e)(g().mark((function w(v){var I,P,u,Q,K,a,U,p;return g().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:return P=v.appId,u=v.apiKey,Q={method:"GET",headers:Wv(u)},K=gv.replace("{app-id}",P),w.next=5,fetch(K,Q);case 5:if(200===(a=w.sent).status||304===a.status){w.next=18;break}return U="",w.prev=8,w.next=11,a.json();case 11:p=w.sent,(null===(I=p.error)||void 0===I?void 0:I.message)&&(U=p.error.message),w.next=17;break;case 15:w.prev=15,w.t0=w.catch(8);case 17:throw ov.create("config-fetch-failed",{httpStatus:a.status,responseMessage:U});case 18:return w.abrupt("return",a.json());case 19:case"end":return w.stop()}}),w,null,[[8,15]])})))).apply(this,arguments)}function Ov(w){return Nv.apply(this,arguments)}function Nv(){return Nv=(0,r.e)(g().mark((function w(v){var I,P,u,Q,K,a,U,p,Y=arguments;return g().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:if(I=Y.length>1&&void 0!==Y[1]?Y[1]:nv,P=Y.length>2?Y[2]:void 0,u=v.options,Q=u.appId,K=u.apiKey,a=u.measurementId,Q){w.next=5;break}throw ov.create("no-app-id");case 5:if(K){w.next=9;break}if(!a){w.next=8;break}return w.abrupt("return",{measurementId:a,appId:Q});case 8:throw ov.create("no-api-key");case 9:return U=I.getThrottleMetadata(Q)||{backoffCount:0,throttleEndTimeMillis:Date.now()},p=new Sv,setTimeout((0,r.e)(g().mark((function w(){return g().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:p.abort();case 1:case"end":return w.stop()}}),w)}))),void 0!==P?P:Yv),w.abrupt("return",qv({appId:Q,apiKey:K,measurementId:a},U,p,I));case 13:case"end":return w.stop()}}),w)}))),Nv.apply(this,arguments)}function qv(w,v,I){return mv.apply(this,arguments)}function mv(){return mv=(0,r.e)(g().mark((function w(v,I,P){var u,Q,K,a,U,p,r,Y,J=arguments;return g().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:return u=I.throttleEndTimeMillis,Q=I.backoffCount,K=J.length>3&&void 0!==J[3]?J[3]:nv,a=v.appId,U=v.measurementId,w.prev=3,w.next=6,cv(P,u);case 6:w.next=14;break;case 8:if(w.prev=8,w.t0=w.catch(3),!U){w.next=13;break}return lv.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(U)+' provided in the "measurementId" field in the local Firebase config. ['.concat(w.t0.message,"]")),w.abrupt("return",{appId:a,measurementId:U});case 13:throw w.t0;case 14:return w.prev=14,w.next=17,Vv(v);case 17:return p=w.sent,K.deleteThrottleMetadata(a),w.abrupt("return",p);case 22:if(w.prev=22,w.t1=w.catch(14),Mv(w.t1)){w.next=32;break}if(K.deleteThrottleMetadata(a),!U){w.next=31;break}return lv.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(U)+' provided in the "measurementId" field in the local Firebase config. ['.concat(w.t1.message,"]")),w.abrupt("return",{appId:a,measurementId:U});case 31:throw w.t1;case 32:return r=503===Number(w.t1.customData.httpStatus)?c(Q,K.intervalMillis,30):c(Q,K.intervalMillis),Y={throttleEndTimeMillis:Date.now()+r,backoffCount:Q+1},K.setThrottleMetadata(a,Y),lv.debug("Calling attemptFetch again in ".concat(r," millis")),w.abrupt("return",qv(v,Y,P,K));case 37:case"end":return w.stop()}}),w,null,[[3,8],[14,22]])}))),mv.apply(this,arguments)}function cv(w,v){return new Promise((function(I,P){var u=Math.max(v-Date.now(),0),Q=setTimeout(I,u);w.addEventListener((function(){clearTimeout(Q),P(ov.create("fetch-throttle",{throttleEndTimeMillis:v}))}))}))}function Mv(w){if(!(w instanceof W)||!w.customData)return!1;var v=Number(w.customData.httpStatus);return 429===v||500===v||503===v||504===v}var Sv=function(){function w(){(0,a.e)(this,w),this.listeners=[]}return(0,U.c)(w,[{key:"addEventListener",value:function(w){this.listeners.push(w)}},{key:"abort",value:function(){this.listeners.forEach((function(w){return w()}))}}]),w}();function ev(){return Hv.apply(this,arguments)}function Hv(){return(Hv=(0,r.e)(g().mark((function w(){return g().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:if(h()){w.next=5;break}return lv.warn(ov.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),w.abrupt("return",!1);case 5:return w.prev=5,w.next=8,n();case 8:w.next=14;break;case 10:return w.prev=10,w.t0=w.catch(5),lv.warn(ov.create("indexeddb-unavailable",{errorInfo:w.t0}).message),w.abrupt("return",!1);case 14:return w.abrupt("return",!0);case 15:case"end":return w.stop()}}),w,null,[[5,10]])})))).apply(this,arguments)}function Gv(){return Gv=(0,r.e)(g().mark((function w(v,I,P,u,K,a,U){var p,r,Y,J,l,R,x,j;return g().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:return(r=Ov(v)).then((function(w){P[w.measurementId]=w.appId,v.options.measurementId&&w.measurementId!==v.options.measurementId&&lv.warn("The measurement ID in the local Firebase config (".concat(v.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(w.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(w){return lv.error(w)})),I.push(r),Y=ev().then((function(w){return w?u.getId():void 0})),w.next=6,Promise.all([r,Y]);case 6:return J=w.sent,l=(0,Q.e)(J,2),R=l[0],x=l[1],zv()||xv(a,R.measurementId),K("js",new Date),(j=null!==(p=null===U||void 0===U?void 0:U.config)&&void 0!==p?p:{}).origin="firebase",j.update=!0,null!=x&&(j.firebase_id=x),K("config",R.measurementId,j),w.abrupt("return",R.measurementId);case 18:case"end":return w.stop()}}),w)}))),Gv.apply(this,arguments)}var Lv,dv,Dv=function(){function w(v){(0,a.e)(this,w),this.app=v}return(0,U.c)(w,[{key:"_delete",value:function(){return delete fv[this.app.options.appId],Promise.resolve()}}]),w}(),fv={},bv=[],kv={},Cv="dataLayer",yv="gtag",Tv=!1;function Zv(){var w=[];if(function(){var w="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof w&&void 0!==w.id}()&&w.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||w.push("Cookies are not available."),w.length>0){var v=w.map((function(w,v){return"(".concat(v+1,") ").concat(w)})).join(" "),I=ov.create("invalid-analytics-context",{errorInfo:v});lv.warn(I.message)}}function Av(w,v,I){Zv();var P=w.options.appId;if(!P)throw ov.create("no-app-id");if(!w.options.apiKey){if(!w.options.measurementId)throw ov.create("no-api-key");lv.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(w.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=fv[P])throw ov.create("already-exists",{id:P});if(!Tv){!function(w){var v=[];Array.isArray(window[w])?v=window[w]:window[w]=v}(Cv);var u=iv(fv,bv,kv,Cv,yv),Q=u.wrappedGtag,K=u.gtagCore;dv=Q,Lv=K,Tv=!0}return fv[P]=function(w,v,I,P,u,Q,K){return Gv.apply(this,arguments)}(w,bv,kv,v,Lv,Cv,I),new Dv(w)}function Xv(){return(Xv=(0,r.e)(g().mark((function w(v,I,P,u,Q){var K,a;return g().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:if(!Q||!Q.global){w.next=5;break}return v("event",P,u),w.abrupt("return");case 5:return w.next=7,I;case 7:K=w.sent,a=Object.assign(Object.assign({},u),{send_to:K}),v("event",P,a);case 10:case"end":return w.stop()}}),w)})))).apply(this,arguments)}function wI(){return(wI=(0,r.e)(g().mark((function w(v,I,P,u){var Q,K,a,U,p;return g().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:if(!u||!u.global){w.next=7;break}for(Q={},K=0,a=Object.keys(P);K<a.length;K++)U=a[K],Q["user_properties.".concat(U)]=P[U];return v("set",Q),w.abrupt("return",Promise.resolve());case 7:return w.next=9,I;case 9:p=w.sent,v("config",p,{update:!0,user_properties:P});case 11:case"end":return w.stop()}}),w)})))).apply(this,arguments)}function vI(){var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,J.n)();w=M(w);var v=(0,J.h)(w,rv);return v.isInitialized()?v.getImmediate():II(w)}function II(w){var v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},I=(0,J.h)(w,rv);if(I.isInitialized()){var P=I.getImmediate();if(N(v,I.getOptions()))return P;throw ov.create("already-initialized")}var u=I.initialize({options:v});return u}function PI(w,v,I){w=M(w),function(w,v,I,P){return wI.apply(this,arguments)}(dv,fv[w.app.options.appId],v,I).catch((function(w){return lv.error(w)}))}function uI(w,v,I,P){w=M(w),function(w,v,I,P,u){return Xv.apply(this,arguments)}(dv,fv[w.app.options.appId],v,I,P).catch((function(w){return lv.error(w)}))}var QI="@firebase/analytics",KI="0.7.2";(0,J.l)(new S.f(rv,(function(w,v){var I=v.options;return Av(w.getProvider("app").getImmediate(),w.getProvider("installations-internal").getImmediate(),I)}),"PUBLIC")),(0,J.l)(new S.f("analytics-internal",(function(w){try{var v=w.getProvider(rv).getImmediate();return{logEvent:function(w,I,P){return uI(v,w,I,P)}}}catch(w){throw ov.create("interop-component-reg-failed",{reason:w})}}),"PRIVATE")),(0,J.q)(QI,KI),(0,J.q)(QI,KI,"esm2017")},20271:function(w,v,I){"use strict";I.d(v,{d:function(){return P.p}});var P=I(19642);(0,P.q)("firebase","9.1.3","app")},71806:function(w,v,I){"use strict";I.d(v,{d:function(){return kv},h:function(){return ZP},l:function(){return KI},p:function(){return IP},t:function(){return UI},v:function(){return aI}});var P=I(11752),u=I(61120),Q=I(97326),K=I(60136),a=I(43668),U=I(37762),p=I(29439),r=I(15861),Y=I(15671),g=I(43144),J=I(93433),l=I(4942),R=I(64687),x=I.n(R),j=I(28664),s=function(w){for(var v=[],I=0,P=0;P<w.length;P++){var u=w.charCodeAt(P);u<128?v[I++]=u:u<2048?(v[I++]=u>>6|192,v[I++]=63&u|128):55296===(64512&u)&&P+1<w.length&&56320===(64512&w.charCodeAt(P+1))?(u=65536+((1023&u)<<10)+(1023&w.charCodeAt(++P)),v[I++]=u>>18|240,v[I++]=u>>12&63|128,v[I++]=u>>6&63|128,v[I++]=63&u|128):(v[I++]=u>>12|224,v[I++]=u>>6&63|128,v[I++]=63&u|128)}return v},B={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(w,v){if(!Array.isArray(w))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var I=v?this.byteToCharMapWebSafe_:this.byteToCharMap_,P=[],u=0;u<w.length;u+=3){var Q=w[u],K=u+1<w.length,a=K?w[u+1]:0,U=u+2<w.length,p=U?w[u+2]:0,r=Q>>2,Y=(3&Q)<<4|a>>4,g=(15&a)<<2|p>>6,J=63&p;U||(J=64,K||(g=64)),P.push(I[r],I[Y],I[g],I[J])}return P.join("")},encodeString:function(w,v){return this.HAS_NATIVE_SUPPORT&&!v?btoa(w):this.encodeByteArray(s(w),v)},decodeString:function(w,v){return this.HAS_NATIVE_SUPPORT&&!v?atob(w):function(w){for(var v=[],I=0,P=0;I<w.length;){var u=w[I++];if(u<128)v[P++]=String.fromCharCode(u);else if(u>191&&u<224){var Q=w[I++];v[P++]=String.fromCharCode((31&u)<<6|63&Q)}else if(u>239&&u<365){var K=((7&u)<<18|(63&w[I++])<<12|(63&w[I++])<<6|63&w[I++])-65536;v[P++]=String.fromCharCode(55296+(K>>10)),v[P++]=String.fromCharCode(56320+(1023&K))}else{var a=w[I++],U=w[I++];v[P++]=String.fromCharCode((15&u)<<12|(63&a)<<6|63&U)}}return v.join("")}(this.decodeStringToByteArray(w,v))},decodeStringToByteArray:function(w,v){this.init_();for(var I=v?this.charToByteMapWebSafe_:this.charToByteMap_,P=[],u=0;u<w.length;){var Q=I[w.charAt(u++)],K=u<w.length?I[w.charAt(u)]:0,a=++u<w.length?I[w.charAt(u)]:64,U=++u<w.length?I[w.charAt(u)]:64;if(++u,null==Q||null==K||null==a||null==U)throw Error();var p=Q<<2|K>>4;if(P.push(p),64!==a){var r=K<<4&240|a>>2;if(P.push(r),64!==U){var Y=a<<6&192|U;P.push(Y)}}}return P},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var w=0;w<this.ENCODED_VALS.length;w++)this.byteToCharMap_[w]=this.ENCODED_VALS.charAt(w),this.charToByteMap_[this.byteToCharMap_[w]]=w,this.byteToCharMapWebSafe_[w]=this.ENCODED_VALS_WEBSAFE.charAt(w),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[w]]=w,w>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(w)]=w,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(w)]=w)}}},t=function(w){try{return B.decodeString(w,!0)}catch(w){console.error("base64Decode failed: ",w)}return null};function i(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}var z=function(w){(0,K.e)(I,w);var v=(0,a.d)(I);function I(w,P,u){var K;return(0,Y.e)(this,I),(K=v.call(this,P)).code=w,K.customData=u,K.name="FirebaseError",Object.setPrototypeOf((0,Q.d)(K),I.prototype),Error.captureStackTrace&&Error.captureStackTrace((0,Q.d)(K),E.prototype.create),K}return(0,g.c)(I)}((0,j.c)(Error)),E=function(){function w(v,I,P){(0,Y.e)(this,w),this.service=v,this.serviceName=I,this.errors=P}return(0,g.c)(w,[{key:"create",value:function(w){var v=(arguments.length<=1?void 0:arguments[1])||{},I="".concat(this.service,"/").concat(w),P=this.errors[w],u=P?o(P,v):"Error",Q="".concat(this.serviceName,": ").concat(u," (").concat(I,")."),K=new z(I,Q,v);return K}}]),w}();function o(w,v){return w.replace(h,(function(w,I){var P=v[I];return null!=P?String(P):"<".concat(I,"?>")}))}var h=/\{\$([^}]+)}/g;function n(w,v){if(w===v)return!0;for(var I=Object.keys(w),P=Object.keys(v),u=0,Q=I;u<Q.length;u++){var K=Q[u];if(!P.includes(K))return!1;var a=w[K],U=v[K];if(W(a)&&W(U)){if(!n(a,U))return!1}else if(a!==U)return!1}for(var p=0,r=P;p<r.length;p++){var Y=r[p];if(!I.includes(Y))return!1}return!0}function W(w){return null!==w&&"object"===typeof w}function V(w){for(var v=[],I=function(){var w=(0,p.e)(u[P],2),I=w[0],Q=w[1];Array.isArray(Q)?Q.forEach((function(w){v.push(encodeURIComponent(I)+"="+encodeURIComponent(w))})):v.push(encodeURIComponent(I)+"="+encodeURIComponent(Q))},P=0,u=Object.entries(w);P<u.length;P++)I();return v.length?"&"+v.join("&"):""}function F(w){var v={};return w.replace(/^\?/,"").split("&").forEach((function(w){if(w){var I=w.split("="),P=(0,p.e)(I,2),u=P[0],Q=P[1];v[decodeURIComponent(u)]=decodeURIComponent(Q)}})),v}function O(w){var v=w.indexOf("?");if(!v)return"";var I=w.indexOf("#",v);return w.substring(v,I>0?I:void 0)}var N=function(){function w(v,I){var P=this;(0,Y.e)(this,w),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=I,this.task.then((function(){v(P)})).catch((function(w){P.error(w)}))}return(0,g.c)(w,[{key:"next",value:function(w){this.forEachObserver((function(v){v.next(w)}))}},{key:"error",value:function(w){this.forEachObserver((function(v){v.error(w)})),this.close(w)}},{key:"complete",value:function(){this.forEachObserver((function(w){w.complete()})),this.close()}},{key:"subscribe",value:function(w,v,I){var P,u=this;if(void 0===w&&void 0===v&&void 0===I)throw new Error("Missing Observer.");void 0===(P=function(w,v){if("object"!==typeof w||null===w)return!1;var I,P=(0,U.b)(v);try{for(P.s();!(I=P.n()).done;){var u=I.value;if(u in w&&"function"===typeof w[u])return!0}}catch(w){P.e(w)}finally{P.f()}return!1}(w,["next","error","complete"])?w:{next:w,error:v,complete:I}).next&&(P.next=q),void 0===P.error&&(P.error=q),void 0===P.complete&&(P.complete=q);var Q=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{u.finalError?P.error(u.finalError):P.complete()}catch(w){}})),this.observers.push(P),Q}},{key:"unsubscribeOne",value:function(w){void 0!==this.observers&&void 0!==this.observers[w]&&(delete this.observers[w],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(w){if(!this.finalized)for(var v=0;v<this.observers.length;v++)this.sendOne(v,w)}},{key:"sendOne",value:function(w,v){var I=this;this.task.then((function(){if(void 0!==I.observers&&void 0!==I.observers[w])try{v(I.observers[w])}catch(w){"undefined"!==typeof console&&console.error&&console.error(w)}}))}},{key:"close",value:function(w){var v=this;this.finalized||(this.finalized=!0,void 0!==w&&(this.finalError=w),this.task.then((function(){v.observers=void 0,v.onNoObservers=void 0})))}}]),w}();function q(){}function m(w){return w&&w._delegate?w._delegate:w}var c=I(19642);function M(w,v){var I={};for(var P in w)Object.prototype.hasOwnProperty.call(w,P)&&v.indexOf(P)<0&&(I[P]=w[P]);if(null!=w&&"function"===typeof Object.getOwnPropertySymbols){var u=0;for(P=Object.getOwnPropertySymbols(w);u<P.length;u++)v.indexOf(P[u])<0&&Object.prototype.propertyIsEnumerable.call(w,P[u])&&(I[P[u]]=w[P[u]])}return I}Object.create;var S;Object.create;var e,H=[];!function(w){w[w.DEBUG=0]="DEBUG",w[w.VERBOSE=1]="VERBOSE",w[w.INFO=2]="INFO",w[w.WARN=3]="WARN",w[w.ERROR=4]="ERROR",w[w.SILENT=5]="SILENT"}(e||(e={}));var G={debug:e.DEBUG,verbose:e.VERBOSE,info:e.INFO,warn:e.WARN,error:e.ERROR,silent:e.SILENT},L=e.INFO,d=(S={},(0,l.c)(S,e.DEBUG,"log"),(0,l.c)(S,e.VERBOSE,"log"),(0,l.c)(S,e.INFO,"info"),(0,l.c)(S,e.WARN,"warn"),(0,l.c)(S,e.ERROR,"error"),S),D=function(w,v){if(!(v<w.logLevel)){var I=(new Date).toISOString(),P=d[v];if(!P)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(v,")"));for(var u,Q=arguments.length,K=new Array(Q>2?Q-2:0),a=2;a<Q;a++)K[a-2]=arguments[a];(u=console)[P].apply(u,["[".concat(I,"]  ").concat(w.name,":")].concat(K))}},f=function(){function w(v){(0,Y.e)(this,w),this.name=v,this._logLevel=L,this._logHandler=D,this._userLogHandler=null,H.push(this)}return(0,g.c)(w,[{key:"logLevel",get:function(){return this._logLevel},set:function(w){if(!(w in e))throw new TypeError('Invalid value "'.concat(w,'" assigned to `logLevel`'));this._logLevel=w}},{key:"setLogLevel",value:function(w){this._logLevel="string"===typeof w?G[w]:w}},{key:"logHandler",get:function(){return this._logHandler},set:function(w){if("function"!==typeof w)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=w}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(w){this._userLogHandler=w}},{key:"debug",value:function(){for(var w=arguments.length,v=new Array(w),I=0;I<w;I++)v[I]=arguments[I];this._userLogHandler&&this._userLogHandler.apply(this,[this,e.DEBUG].concat(v)),this._logHandler.apply(this,[this,e.DEBUG].concat(v))}},{key:"log",value:function(){for(var w=arguments.length,v=new Array(w),I=0;I<w;I++)v[I]=arguments[I];this._userLogHandler&&this._userLogHandler.apply(this,[this,e.VERBOSE].concat(v)),this._logHandler.apply(this,[this,e.VERBOSE].concat(v))}},{key:"info",value:function(){for(var w=arguments.length,v=new Array(w),I=0;I<w;I++)v[I]=arguments[I];this._userLogHandler&&this._userLogHandler.apply(this,[this,e.INFO].concat(v)),this._logHandler.apply(this,[this,e.INFO].concat(v))}},{key:"warn",value:function(){for(var w=arguments.length,v=new Array(w),I=0;I<w;I++)v[I]=arguments[I];this._userLogHandler&&this._userLogHandler.apply(this,[this,e.WARN].concat(v)),this._logHandler.apply(this,[this,e.WARN].concat(v))}},{key:"error",value:function(){for(var w=arguments.length,v=new Array(w),I=0;I<w;I++)v[I]=arguments[I];this._userLogHandler&&this._userLogHandler.apply(this,[this,e.ERROR].concat(v)),this._logHandler.apply(this,[this,e.ERROR].concat(v))}}]),w}();var b,k=I(56053);function C(){return(0,l.c)({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var y=C,T=new E("auth","Firebase",C()),Z=new f("@firebase/auth");function A(w){if(Z.logLevel<=e.ERROR){for(var v=arguments.length,I=new Array(v>1?v-1:0),P=1;P<v;P++)I[P-1]=arguments[P];Z.error.apply(Z,["Auth (".concat(c.e,"): ").concat(w)].concat(I))}}function X(w){for(var v=arguments.length,I=new Array(v>1?v-1:0),P=1;P<v;P++)I[P-1]=arguments[P];throw Pw.apply(void 0,[w].concat(I))}function ww(w){for(var v=arguments.length,I=new Array(v>1?v-1:0),P=1;P<v;P++)I[P-1]=arguments[P];return Pw.apply(void 0,[w].concat(I))}function vw(w,v,I){var P=Object.assign(Object.assign({},y()),(0,l.c)({},v,I));return new E("auth","Firebase",P).create(v,{appName:w.name})}function Iw(w,v,I){if(!(v instanceof I))throw I.name!==v.constructor.name&&X(w,"argument-error"),vw(w,"argument-error","Type of ".concat(v.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Pw(w){for(var v=arguments.length,I=new Array(v>1?v-1:0),P=1;P<v;P++)I[P-1]=arguments[P];if("string"!==typeof w){var u,Q=I[0],K=(0,J.d)(I.slice(1));return K[0]&&(K[0].appName=w.name),(u=w._errorFactory).create.apply(u,[Q].concat((0,J.d)(K)))}return T.create.apply(T,[w].concat(I))}function uw(w,v){if(!w){for(var I=arguments.length,P=new Array(I>2?I-2:0),u=2;u<I;u++)P[u-2]=arguments[u];throw Pw.apply(void 0,[v].concat(P))}}function Qw(w){var v="INTERNAL ASSERTION FAILED: "+w;throw A(v),new Error(v)}function Kw(w,v){w||Qw(v)}var aw=new Map;function Uw(w){Kw(w instanceof Function,"Expected a class definition");var v=aw.get(w);return v?(Kw(v instanceof w,"Instance stored in cache mismatched with class"),v):(v=new w,aw.set(w,v),v)}function pw(w,v){var I=(0,c.h)(w,"auth");if(I.isInitialized()){var P=I.getImmediate();if(n(I.getOptions(),null!==v&&void 0!==v?v:{}))return P;X(P,"already-initialized")}return I.initialize({options:v})}function rw(){var w;return"undefined"!==typeof self&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function Yw(){return"http:"===gw()||"https:"===gw()}function gw(){var w;return"undefined"!==typeof self&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}function Jw(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Yw()||function(){var w="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof w&&void 0!==w.id}()||"connection"in navigator))||navigator.onLine}var lw=function(){function w(v,I){(0,Y.e)(this,w),this.shortDelay=v,this.longDelay=I,Kw(I>v,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(i())||"object"===typeof navigator&&"ReactNative"===navigator.product}return(0,g.c)(w,[{key:"get",value:function(){return Jw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}]),w}();function Rw(w,v){Kw(w.emulator,"Emulator should always be set here");var I=w.emulator.url;return v?"".concat(I).concat(v.startsWith("/")?v.slice(1):v):I}var xw=function(){function w(){(0,Y.e)(this,w)}return(0,g.c)(w,null,[{key:"initialize",value:function(w,v,I){this.fetchImpl=w,v&&(this.headersImpl=v),I&&(this.responseImpl=I)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Qw("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Qw("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Qw("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),w}(),jw=(b={},(0,l.c)(b,"CREDENTIAL_MISMATCH","custom-token-mismatch"),(0,l.c)(b,"MISSING_CUSTOM_TOKEN","internal-error"),(0,l.c)(b,"INVALID_IDENTIFIER","invalid-email"),(0,l.c)(b,"MISSING_CONTINUE_URI","internal-error"),(0,l.c)(b,"INVALID_PASSWORD","wrong-password"),(0,l.c)(b,"MISSING_PASSWORD","internal-error"),(0,l.c)(b,"EMAIL_EXISTS","email-already-in-use"),(0,l.c)(b,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),(0,l.c)(b,"INVALID_IDP_RESPONSE","invalid-credential"),(0,l.c)(b,"INVALID_PENDING_TOKEN","invalid-credential"),(0,l.c)(b,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),(0,l.c)(b,"MISSING_REQ_TYPE","internal-error"),(0,l.c)(b,"EMAIL_NOT_FOUND","user-not-found"),(0,l.c)(b,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),(0,l.c)(b,"EXPIRED_OOB_CODE","expired-action-code"),(0,l.c)(b,"INVALID_OOB_CODE","invalid-action-code"),(0,l.c)(b,"MISSING_OOB_CODE","internal-error"),(0,l.c)(b,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),(0,l.c)(b,"INVALID_ID_TOKEN","invalid-user-token"),(0,l.c)(b,"TOKEN_EXPIRED","user-token-expired"),(0,l.c)(b,"USER_NOT_FOUND","user-token-expired"),(0,l.c)(b,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),(0,l.c)(b,"INVALID_CODE","invalid-verification-code"),(0,l.c)(b,"INVALID_SESSION_INFO","invalid-verification-id"),(0,l.c)(b,"INVALID_TEMPORARY_PROOF","invalid-credential"),(0,l.c)(b,"MISSING_SESSION_INFO","missing-verification-id"),(0,l.c)(b,"SESSION_EXPIRED","code-expired"),(0,l.c)(b,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),(0,l.c)(b,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),(0,l.c)(b,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),(0,l.c)(b,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),(0,l.c)(b,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),(0,l.c)(b,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),(0,l.c)(b,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),(0,l.c)(b,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),(0,l.c)(b,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),(0,l.c)(b,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),(0,l.c)(b,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),b),sw=new lw(3e4,6e4);function Bw(w,v){return w.tenantId&&!v.tenantId?Object.assign(Object.assign({},v),{tenantId:w.tenantId}):v}function tw(w,v,I,P){return iw.apply(this,arguments)}function iw(){return iw=(0,r.e)(x().mark((function w(v,I,P,u){var Q,K=arguments;return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:return Q=K.length>4&&void 0!==K[4]?K[4]:{},w.abrupt("return",zw(v,Q,(function(){var w={},Q={};u&&("GET"===I?Q=u:w={body:JSON.stringify(u)});var K=V(Object.assign({key:v.config.apiKey},Q)).slice(1),a=new(xw.headers());return a.set("Content-Type","application/json"),a.set("X-Client-Version",v._getSdkClientVersion()),v.languageCode&&a.set("X-Firebase-Locale",v.languageCode),xw.fetch()(nw(v,v.config.apiHost,P,K),Object.assign({method:I,headers:a,referrerPolicy:"no-referrer"},w))})));case 2:case"end":return w.stop()}}),w)}))),iw.apply(this,arguments)}function zw(w,v,I){return Ew.apply(this,arguments)}function Ew(){return(Ew=(0,r.e)(x().mark((function w(v,I,P){var u,Q,K,a,U,r,Y,g,J,l;return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:return v._canInitEmulator=!1,u=Object.assign(Object.assign({},jw),I),w.prev=2,Q=new Ww(v),w.next=6,Promise.race([P(),Q.promise]);case 6:return K=w.sent,Q.clearNetworkTimeout(),w.next=10,K.json();case 10:if(!("needConfirmation"in(a=w.sent))){w.next=13;break}throw Vw(v,"account-exists-with-different-credential",a);case 13:if(!K.ok||"errorMessage"in a){w.next=17;break}return w.abrupt("return",a);case 17:if(U=K.ok?a.errorMessage:a.error.message,r=U.split(" : "),Y=(0,p.e)(r,2),g=Y[0],J=Y[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==g){w.next=23;break}throw Vw(v,"credential-already-in-use",a);case 23:if("EMAIL_EXISTS"!==g){w.next=25;break}throw Vw(v,"email-already-in-use",a);case 25:if(l=u[g]||g.toLowerCase().replace(/[_\s]+/g,"-"),!J){w.next=30;break}throw vw(v,l,J);case 30:X(v,l);case 31:w.next=38;break;case 33:if(w.prev=33,w.t0=w.catch(2),!(w.t0 instanceof z)){w.next=37;break}throw w.t0;case 37:X(v,"network-request-failed");case 38:case"end":return w.stop()}}),w,null,[[2,33]])})))).apply(this,arguments)}function ow(w,v,I,P){return hw.apply(this,arguments)}function hw(){return hw=(0,r.e)(x().mark((function w(v,I,P,u){var Q,K,a=arguments;return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:return Q=a.length>4&&void 0!==a[4]?a[4]:{},w.next=3,tw(v,I,P,u,Q);case 3:return"mfaPendingCredential"in(K=w.sent)&&X(v,"multi-factor-auth-required",{serverResponse:K}),w.abrupt("return",K);case 6:case"end":return w.stop()}}),w)}))),hw.apply(this,arguments)}function nw(w,v,I,P){var u="".concat(v).concat(I,"?").concat(P);return w.config.emulator?Rw(w.config,u):"".concat(w.config.apiScheme,"://").concat(u)}var Ww=function(){function w(v){var I=this;(0,Y.e)(this,w),this.auth=v,this.timer=null,this.promise=new Promise((function(w,v){I.timer=setTimeout((function(){return v(ww(I.auth,"timeout"))}),sw.get())}))}return(0,g.c)(w,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),w}();function Vw(w,v,I){var P={appName:w.name};I.email&&(P.email=I.email),I.phoneNumber&&(P.phoneNumber=I.phoneNumber);var u=ww(w,v,P);return u.customData._tokenResponse=I,u}function Fw(w,v){return Ow.apply(this,arguments)}function Ow(){return(Ow=(0,r.e)(x().mark((function w(v,I){return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:return w.abrupt("return",tw(v,"POST","/v1/accounts:delete",I));case 1:case"end":return w.stop()}}),w)})))).apply(this,arguments)}function Nw(w,v){return qw.apply(this,arguments)}function qw(){return(qw=(0,r.e)(x().mark((function w(v,I){return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:return w.abrupt("return",tw(v,"POST","/v1/accounts:lookup",I));case 1:case"end":return w.stop()}}),w)})))).apply(this,arguments)}function mw(w){if(w)try{var v=new Date(Number(w));if(!isNaN(v.getTime()))return v.toUTCString()}catch(w){}}function cw(){return cw=(0,r.e)(x().mark((function w(v){var I,P,u,Q,K,a,U=arguments;return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:return I=U.length>1&&void 0!==U[1]&&U[1],P=m(v),w.next=4,P.getIdToken(I);case 4:return u=w.sent,uw((Q=Sw(u))&&Q.exp&&Q.auth_time&&Q.iat,P.auth,"internal-error"),K="object"===typeof Q.firebase?Q.firebase:void 0,a=null===K||void 0===K?void 0:K.sign_in_provider,w.abrupt("return",{claims:Q,token:u,authTime:mw(Mw(Q.auth_time)),issuedAtTime:mw(Mw(Q.iat)),expirationTime:mw(Mw(Q.exp)),signInProvider:a||null,signInSecondFactor:(null===K||void 0===K?void 0:K.sign_in_second_factor)||null});case 10:case"end":return w.stop()}}),w)}))),cw.apply(this,arguments)}function Mw(w){return 1e3*Number(w)}function Sw(w){var v=w.split("."),I=(0,p.e)(v,3),P=I[0],u=I[1],Q=I[2];if(void 0===P||void 0===u||void 0===Q)return A("JWT malformed, contained fewer than 3 sections"),null;try{var K=t(u);return K?JSON.parse(K):(A("Failed to decode base64 JWT payload"),null)}catch(w){return A("Caught error parsing JWT payload as JSON",w),null}}function ew(w,v){return Hw.apply(this,arguments)}function Hw(){return Hw=(0,r.e)(x().mark((function w(v,I){var P=arguments;return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:if(!(P.length>2&&void 0!==P[2]&&P[2])){w.next=3;break}return w.abrupt("return",I);case 3:return w.prev=3,w.next=6,I;case 6:return w.abrupt("return",w.sent);case 9:if(w.prev=9,w.t0=w.catch(3),!(w.t0 instanceof z&&Gw(w.t0))){w.next=15;break}if(v.auth.currentUser!==v){w.next=15;break}return w.next=15,v.auth.signOut();case 15:throw w.t0;case 16:case"end":return w.stop()}}),w,null,[[3,9]])}))),Hw.apply(this,arguments)}function Gw(w){var v=w.code;return v==="auth/".concat("user-disabled")||v==="auth/".concat("user-token-expired")}var Lw=function(){function w(v){(0,Y.e)(this,w),this.user=v,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return(0,g.c)(w,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(w){var v;if(w){var I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}this.errorBackoff=3e4;var P=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,P)}},{key:"schedule",value:function(){var w=this,v=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var I=this.getInterval(v);this.timerId=setTimeout((0,r.e)(x().mark((function v(){return x().wrap((function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,w.iteration();case 2:case"end":return v.stop()}}),v)}))),I)}}},{key:"iteration",value:function(){var w=(0,r.e)(x().mark((function w(){return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:return w.prev=0,w.next=3,this.user.getIdToken(!0);case 3:w.next=9;break;case 5:return w.prev=5,w.t0=w.catch(0),w.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),w.abrupt("return");case 9:this.schedule();case 10:case"end":return w.stop()}}),w,this,[[0,5]])})));return function(){return w.apply(this,arguments)}}()}]),w}(),dw=function(){function w(v,I){(0,Y.e)(this,w),this.createdAt=v,this.lastLoginAt=I,this._initializeTime()}return(0,g.c)(w,[{key:"_initializeTime",value:function(){this.lastSignInTime=mw(this.lastLoginAt),this.creationTime=mw(this.createdAt)}},{key:"_copy",value:function(w){this.createdAt=w.createdAt,this.lastLoginAt=w.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),w}();function Dw(w){return fw.apply(this,arguments)}function fw(){return(fw=(0,r.e)(x().mark((function w(v){var I,P,u,Q,K,a,U,p,r,Y,g;return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:return P=v.auth,w.next=3,v.getIdToken();case 3:return u=w.sent,w.next=6,ew(v,Nw(P,{idToken:u}));case 6:uw(null===(Q=w.sent)||void 0===Q?void 0:Q.users.length,P,"internal-error"),K=Q.users[0],v._notifyReloadListener(K),a=(null===(I=K.providerUserInfo)||void 0===I?void 0:I.length)?Cw(K.providerUserInfo):[],U=kw(v.providerData,a),p=v.isAnonymous,r=!(v.email&&K.passwordHash)&&!(null===U||void 0===U?void 0:U.length),Y=!!p&&r,g={uid:K.localId,displayName:K.displayName||null,photoURL:K.photoUrl||null,email:K.email||null,emailVerified:K.emailVerified||!1,phoneNumber:K.phoneNumber||null,tenantId:K.tenantId||null,providerData:U,metadata:new dw(K.createdAt,K.lastLoginAt),isAnonymous:Y},Object.assign(v,g);case 17:case"end":return w.stop()}}),w)})))).apply(this,arguments)}function bw(){return(bw=(0,r.e)(x().mark((function w(v){var I;return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:return I=m(v),w.next=3,Dw(I);case 3:return w.next=5,I.auth._persistUserIfCurrent(I);case 5:I.auth._notifyListenersIfCurrent(I);case 6:case"end":return w.stop()}}),w)})))).apply(this,arguments)}function kw(w,v){var I=w.filter((function(w){return!v.some((function(v){return v.providerId===w.providerId}))}));return[].concat((0,J.d)(I),(0,J.d)(v))}function Cw(w){return w.map((function(w){var v=w.providerId,I=M(w,["providerId"]);return{providerId:v,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}}))}function yw(w,v){return Tw.apply(this,arguments)}function Tw(){return(Tw=(0,r.e)(x().mark((function w(v,I){var P;return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,zw(v,{},(function(){var w=V({grant_type:"refresh_token",refresh_token:I}).slice(1),P=v.config,u=P.tokenApiHost,Q=P.apiKey,K=nw(v,u,"/v1/token","key=".concat(Q));return xw.fetch()(K,{method:"POST",headers:{"X-Client-Version":v._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:w})}));case 2:return P=w.sent,w.abrupt("return",{accessToken:P.access_token,expiresIn:P.expires_in,refreshToken:P.refresh_token});case 4:case"end":return w.stop()}}),w)})))).apply(this,arguments)}var Zw=function(){function w(){(0,Y.e)(this,w),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return(0,g.c)(w,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(w){uw(w.idToken,"internal-error"),uw("undefined"!==typeof w.idToken,"internal-error"),uw("undefined"!==typeof w.refreshToken,"internal-error");var v="expiresIn"in w&&"undefined"!==typeof w.expiresIn?Number(w.expiresIn):function(w){var v=Sw(w);return uw(v,"internal-error"),uw("undefined"!==typeof v.exp,"internal-error"),uw("undefined"!==typeof v.iat,"internal-error"),Number(v.exp)-Number(v.iat)}(w.idToken);this.updateTokensAndExpiration(w.idToken,w.refreshToken,v)}},{key:"getToken",value:function(){var w=(0,r.e)(x().mark((function w(v){var I,P=arguments;return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:if(I=P.length>1&&void 0!==P[1]&&P[1],uw(!this.accessToken||this.refreshToken,v,"user-token-expired"),I||!this.accessToken||this.isExpired){w.next=4;break}return w.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){w.next=8;break}return w.next=7,this.refresh(v,this.refreshToken);case 7:return w.abrupt("return",this.accessToken);case 8:return w.abrupt("return",null);case 9:case"end":return w.stop()}}),w,this)})));return function(v){return w.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var w=(0,r.e)(x().mark((function w(v,I){var P,u,Q,K;return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,yw(v,I);case 2:P=w.sent,u=P.accessToken,Q=P.refreshToken,K=P.expiresIn,this.updateTokensAndExpiration(u,Q,Number(K));case 7:case"end":return w.stop()}}),w,this)})));return function(v,I){return w.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(w,v,I){this.refreshToken=v||null,this.accessToken=w||null,this.expirationTime=Date.now()+1e3*I}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(w){this.accessToken=w.accessToken,this.refreshToken=w.refreshToken,this.expirationTime=w.expirationTime}},{key:"_clone",value:function(){return Object.assign(new w,this.toJSON())}},{key:"_performRefresh",value:function(){return Qw("not implemented")}}],[{key:"fromJSON",value:function(v,I){var P=I.refreshToken,u=I.accessToken,Q=I.expirationTime,K=new w;return P&&(uw("string"===typeof P,"internal-error",{appName:v}),K.refreshToken=P),u&&(uw("string"===typeof u,"internal-error",{appName:v}),K.accessToken=u),Q&&(uw("number"===typeof Q,"internal-error",{appName:v}),K.expirationTime=Q),K}}]),w}();function Aw(w,v){uw("string"===typeof w||"undefined"===typeof w,"internal-error",{appName:v})}var Xw=function(){function w(v){(0,Y.e)(this,w);var I=v.uid,P=v.auth,u=v.stsTokenManager,Q=M(v,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Lw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=I,this.auth=P,this.stsTokenManager=u,this.accessToken=u.accessToken,this.displayName=Q.displayName||null,this.email=Q.email||null,this.emailVerified=Q.emailVerified||!1,this.phoneNumber=Q.phoneNumber||null,this.photoURL=Q.photoURL||null,this.isAnonymous=Q.isAnonymous||!1,this.tenantId=Q.tenantId||null,this.metadata=new dw(Q.createdAt||void 0,Q.lastLoginAt||void 0)}return(0,g.c)(w,[{key:"getIdToken",value:function(){var w=(0,r.e)(x().mark((function w(v){var I;return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,ew(this,this.stsTokenManager.getToken(this.auth,v));case 2:if(uw(I=w.sent,this.auth,"internal-error"),this.accessToken===I){w.next=9;break}return this.accessToken=I,w.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return w.abrupt("return",I);case 10:case"end":return w.stop()}}),w,this)})));return function(v){return w.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(w){return function(w){return cw.apply(this,arguments)}(this,w)}},{key:"reload",value:function(){return function(w){return bw.apply(this,arguments)}(this)}},{key:"_assign",value:function(w){this!==w&&(uw(this.uid===w.uid,this.auth,"internal-error"),this.displayName=w.displayName,this.photoURL=w.photoURL,this.email=w.email,this.emailVerified=w.emailVerified,this.phoneNumber=w.phoneNumber,this.isAnonymous=w.isAnonymous,this.tenantId=w.tenantId,this.providerData=w.providerData.map((function(w){return Object.assign({},w)})),this.metadata._copy(w.metadata),this.stsTokenManager._assign(w.stsTokenManager))}},{key:"_clone",value:function(v){return new w(Object.assign(Object.assign({},this),{auth:v,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(w){uw(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=w,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(w){this.reloadListener?this.reloadListener(w):this.reloadUserInfo=w}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var w=(0,r.e)(x().mark((function w(v){var I,P,u=arguments;return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:if(I=u.length>1&&void 0!==u[1]&&u[1],P=!1,v.idToken&&v.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(v),P=!0),!I){w.next=6;break}return w.next=6,Dw(this);case 6:return w.next=8,this.auth._persistUserIfCurrent(this);case 8:P&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return w.stop()}}),w,this)})));return function(v){return w.apply(this,arguments)}}()},{key:"delete",value:function(){var w=(0,r.e)(x().mark((function w(){var v;return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,this.getIdToken();case 2:return v=w.sent,w.next=5,ew(this,Fw(this.auth,{idToken:v}));case 5:return this.stsTokenManager.clearRefreshToken(),w.abrupt("return",this.auth.signOut());case 7:case"end":return w.stop()}}),w,this)})));return function(){return w.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(w){return Object.assign({},w)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(v,I){var P,u,Q,K,a,U,p,r,Y=null!==(P=I.displayName)&&void 0!==P?P:void 0,g=null!==(u=I.email)&&void 0!==u?u:void 0,J=null!==(Q=I.phoneNumber)&&void 0!==Q?Q:void 0,l=null!==(K=I.photoURL)&&void 0!==K?K:void 0,R=null!==(a=I.tenantId)&&void 0!==a?a:void 0,x=null!==(U=I._redirectEventId)&&void 0!==U?U:void 0,j=null!==(p=I.createdAt)&&void 0!==p?p:void 0,s=null!==(r=I.lastLoginAt)&&void 0!==r?r:void 0,B=I.uid,t=I.emailVerified,i=I.isAnonymous,z=I.providerData,E=I.stsTokenManager;uw(B&&E,v,"internal-error");var o=Zw.fromJSON(this.name,E);uw("string"===typeof B,v,"internal-error"),Aw(Y,v.name),Aw(g,v.name),uw("boolean"===typeof t,v,"internal-error"),uw("boolean"===typeof i,v,"internal-error"),Aw(J,v.name),Aw(l,v.name),Aw(R,v.name),Aw(x,v.name),Aw(j,v.name),Aw(s,v.name);var h=new w({uid:B,auth:v,email:g,emailVerified:t,displayName:Y,isAnonymous:i,photoURL:l,phoneNumber:J,tenantId:R,stsTokenManager:o,createdAt:j,lastLoginAt:s});return z&&Array.isArray(z)&&(h.providerData=z.map((function(w){return Object.assign({},w)}))),x&&(h._redirectEventId=x),h}},{key:"_fromIdTokenResponse",value:function(){var v=(0,r.e)(x().mark((function v(I,P){var u,Q,K,a=arguments;return x().wrap((function(v){for(;;)switch(v.prev=v.next){case 0:return u=a.length>2&&void 0!==a[2]&&a[2],(Q=new Zw).updateFromServerResponse(P),K=new w({uid:P.localId,auth:I,stsTokenManager:Q,isAnonymous:u}),v.next=6,Dw(K);case 6:return v.abrupt("return",K);case 7:case"end":return v.stop()}}),v)})));return function(w,I){return v.apply(this,arguments)}}()}]),w}(),wv=function(){function w(){(0,Y.e)(this,w),this.type="NONE",this.storage={}}return(0,g.c)(w,[{key:"_isAvailable",value:function(){var w=(0,r.e)(x().mark((function w(){return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:return w.abrupt("return",!0);case 1:case"end":return w.stop()}}),w)})));return function(){return w.apply(this,arguments)}}()},{key:"_set",value:function(){var w=(0,r.e)(x().mark((function w(v,I){return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:this.storage[v]=I;case 1:case"end":return w.stop()}}),w,this)})));return function(v,I){return w.apply(this,arguments)}}()},{key:"_get",value:function(){var w=(0,r.e)(x().mark((function w(v){var I;return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:return I=this.storage[v],w.abrupt("return",void 0===I?null:I);case 2:case"end":return w.stop()}}),w,this)})));return function(v){return w.apply(this,arguments)}}()},{key:"_remove",value:function(){var w=(0,r.e)(x().mark((function w(v){return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:delete this.storage[v];case 1:case"end":return w.stop()}}),w,this)})));return function(v){return w.apply(this,arguments)}}()},{key:"_addListener",value:function(w,v){}},{key:"_removeListener",value:function(w,v){}}]),w}();wv.type="NONE";var vv=wv;function Iv(w,v,I){return"firebase".concat(":",w,":").concat(v,":").concat(I)}var Pv=function(){function w(v,I,P){(0,Y.e)(this,w),this.persistence=v,this.auth=I,this.userKey=P;var u=this.auth,Q=u.config,K=u.name;this.fullUserKey=Iv(this.userKey,Q.apiKey,K),this.fullPersistenceKey=Iv("persistence",Q.apiKey,K),this.boundEventHandler=I._onStorageEvent.bind(I),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return(0,g.c)(w,[{key:"setCurrentUser",value:function(w){return this.persistence._set(this.fullUserKey,w.toJSON())}},{key:"getCurrentUser",value:function(){var w=(0,r.e)(x().mark((function w(){var v;return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,this.persistence._get(this.fullUserKey);case 2:return v=w.sent,w.abrupt("return",v?Xw._fromJSON(this.auth,v):null);case 4:case"end":return w.stop()}}),w,this)})));return function(){return w.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var w=(0,r.e)(x().mark((function w(v){var I;return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:if(this.persistence!==v){w.next=2;break}return w.abrupt("return");case 2:return w.next=4,this.getCurrentUser();case 4:return I=w.sent,w.next=7,this.removeCurrentUser();case 7:if(this.persistence=v,!I){w.next=10;break}return w.abrupt("return",this.setCurrentUser(I));case 10:case"end":return w.stop()}}),w,this)})));return function(v){return w.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var v=(0,r.e)(x().mark((function v(I,P){var u,Q,K,a,p,Y,g,J,l,R,j,s=arguments;return x().wrap((function(v){for(;;)switch(v.prev=v.next){case 0:if(u=s.length>2&&void 0!==s[2]?s[2]:"authUser",P.length){v.next=3;break}return v.abrupt("return",new w(Uw(vv),I,u));case 3:return v.next=5,Promise.all(P.map(function(){var w=(0,r.e)(x().mark((function w(v){return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,v._isAvailable();case 2:if(!w.sent){w.next=4;break}return w.abrupt("return",v);case 4:return w.abrupt("return",void 0);case 5:case"end":return w.stop()}}),w)})));return function(v){return w.apply(this,arguments)}}()));case 5:Q=v.sent.filter((function(w){return w})),K=Q[0]||Uw(vv),a=Iv(u,I.config.apiKey,I.name),p=null,Y=(0,U.b)(P),v.prev=10,Y.s();case 12:if((g=Y.n()).done){v.next=29;break}return J=g.value,v.prev=14,v.next=17,J._get(a);case 17:if(!(l=v.sent)){v.next=23;break}return R=Xw._fromJSON(I,l),J!==K&&(p=R),K=J,v.abrupt("break",29);case 23:v.next=27;break;case 25:v.prev=25,v.t0=v.catch(14);case 27:v.next=12;break;case 29:v.next=34;break;case 31:v.prev=31,v.t1=v.catch(10),Y.e(v.t1);case 34:return v.prev=34,Y.f(),v.finish(34);case 37:if(j=Q.filter((function(w){return w._shouldAllowMigration})),K._shouldAllowMigration&&j.length){v.next=40;break}return v.abrupt("return",new w(K,I,u));case 40:if(K=j[0],!p){v.next=44;break}return v.next=44,K._set(a,p.toJSON());case 44:return v.next=46,Promise.all(P.map(function(){var w=(0,r.e)(x().mark((function w(v){return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:if(v===K){w.next=8;break}return w.prev=1,w.next=4,v._remove(a);case 4:w.next=8;break;case 6:w.prev=6,w.t0=w.catch(1);case 8:case"end":return w.stop()}}),w,null,[[1,6]])})));return function(v){return w.apply(this,arguments)}}()));case 46:return v.abrupt("return",new w(K,I,u));case 47:case"end":return v.stop()}}),v,null,[[10,31,34,37],[14,25]])})));return function(w,I){return v.apply(this,arguments)}}()}]),w}();function uv(w){var v=w.toLowerCase();if(v.includes("opera/")||v.includes("opr/")||v.includes("opios/"))return"Opera";if(Uv(v))return"IEMobile";if(v.includes("msie")||v.includes("trident/"))return"IE";if(v.includes("edge/"))return"Edge";if(Qv(v))return"Firefox";if(v.includes("silk/"))return"Silk";if(rv(v))return"Blackberry";if(Yv(v))return"Webos";if(Kv(v))return"Safari";if((v.includes("chrome/")||av(v))&&!v.includes("edge/"))return"Chrome";if(pv(v))return"Android";var I=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===I||void 0===I?void 0:I.length)?I[1]:"Other"}function Qv(){var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();return/firefox\//i.test(w)}function Kv(){var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i(),v=w.toLowerCase();return v.includes("safari/")&&!v.includes("chrome/")&&!v.includes("crios/")&&!v.includes("android")}function av(){var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();return/crios\//i.test(w)}function Uv(){var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();return/iemobile/i.test(w)}function pv(){var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();return/android/i.test(w)}function rv(){var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();return/blackberry/i.test(w)}function Yv(){var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();return/webos/i.test(w)}function gv(){var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();return/iphone|ipad|ipod/i.test(w)}function Jv(){var w,v=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();return gv(v)&&!!(null===(w=window.navigator)||void 0===w?void 0:w.standalone)}function lv(){return function(){var w=i();return w.indexOf("MSIE ")>=0||w.indexOf("Trident/")>=0}()&&10===document.documentMode}function Rv(){var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();return gv(w)||pv(w)||Yv(w)||rv(w)||/windows phone/i.test(w)||Uv(w)}function xv(w){var v,I=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(w){case"Browser":v=uv(i());break;case"Worker":v="".concat(uv(i()),"-").concat(w);break;default:v=w}var P=I.length?I.join(","):"FirebaseCore-web";return"".concat(v,"/","JsCore","/").concat(c.e,"/").concat(P)}var jv=function(){function w(v,I){(0,Y.e)(this,w),this.app=v,this.config=I,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bv(this),this.idTokenSubscription=new Bv(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=T,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=v.name,this.clientVersion=I.sdkClientVersion}return(0,g.c)(w,[{key:"_initializeWithPersistence",value:function(w,v){var I=this;return v&&(this._popupRedirectResolver=Uw(v)),this._initializationPromise=this.queue((0,r.e)(x().mark((function P(){var u;return x().wrap((function(P){for(;;)switch(P.prev=P.next){case 0:if(!I._deleted){P.next=2;break}return P.abrupt("return");case 2:return P.next=4,Pv.create(I,w);case 4:if(I.persistenceManager=P.sent,!I._deleted){P.next=7;break}return P.abrupt("return");case 7:if(!(null===(u=I._popupRedirectResolver)||void 0===u?void 0:u._shouldInitProactively)){P.next=10;break}return P.next=10,I._popupRedirectResolver._initialize(I);case 10:return P.next=12,I.initializeCurrentUser(v);case 12:if(!I._deleted){P.next=14;break}return P.abrupt("return");case 14:I._isInitialized=!0;case 15:case"end":return P.stop()}}),P)})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var w=(0,r.e)(x().mark((function w(){var v;return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:if(!this._deleted){w.next=2;break}return w.abrupt("return");case 2:return w.next=4,this.assertedPersistence.getCurrentUser();case 4:if(v=w.sent,this.currentUser||v){w.next=7;break}return w.abrupt("return");case 7:if(!this.currentUser||!v||this.currentUser.uid!==v.uid){w.next=12;break}return this._currentUser._assign(v),w.next=11,this.currentUser.getIdToken();case 11:return w.abrupt("return");case 12:return w.next=14,this._updateCurrentUser(v);case 14:case"end":return w.stop()}}),w,this)})));return function(){return w.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var w=(0,r.e)(x().mark((function w(v){var I,P,u,Q,K;return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,this.assertedPersistence.getCurrentUser();case 2:if(P=w.sent,!v||!this.config.authDomain){w.next=12;break}return w.next=6,this.getOrInitRedirectPersistenceManager();case 6:return u=null===(I=this.redirectUser)||void 0===I?void 0:I._redirectEventId,Q=null===P||void 0===P?void 0:P._redirectEventId,w.next=10,this.tryRedirectSignIn(v);case 10:K=w.sent,u&&u!==Q||!(null===K||void 0===K?void 0:K.user)||(P=K.user);case 12:if(P){w.next=14;break}return w.abrupt("return",this.directlySetCurrentUser(null));case 14:if(P._redirectEventId){w.next=16;break}return w.abrupt("return",this.reloadAndSetCurrentUserOrClear(P));case 16:return uw(this._popupRedirectResolver,this,"argument-error"),w.next=19,this.getOrInitRedirectPersistenceManager();case 19:if(!this.redirectUser||this.redirectUser._redirectEventId!==P._redirectEventId){w.next=21;break}return w.abrupt("return",this.directlySetCurrentUser(P));case 21:return w.abrupt("return",this.reloadAndSetCurrentUserOrClear(P));case 22:case"end":return w.stop()}}),w,this)})));return function(v){return w.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var w=(0,r.e)(x().mark((function w(v){var I;return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:return I=null,w.prev=1,w.next=4,this._popupRedirectResolver._completeRedirectFn(this,v,!0);case 4:I=w.sent,w.next=11;break;case 7:return w.prev=7,w.t0=w.catch(1),w.next=11,this._setRedirectUser(null);case 11:return w.abrupt("return",I);case 12:case"end":return w.stop()}}),w,this,[[1,7]])})));return function(v){return w.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var w=(0,r.e)(x().mark((function w(v){return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:return w.prev=0,w.next=3,Dw(v);case 3:w.next=9;break;case 5:if(w.prev=5,w.t0=w.catch(0),w.t0.code==="auth/".concat("network-request-failed")){w.next=9;break}return w.abrupt("return",this.directlySetCurrentUser(null));case 9:return w.abrupt("return",this.directlySetCurrentUser(v));case 10:case"end":return w.stop()}}),w,this,[[0,5]])})));return function(v){return w.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var w=navigator;return w.languages&&w.languages[0]||w.language||null}()}},{key:"_delete",value:function(){var w=(0,r.e)(x().mark((function w(){return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:this._deleted=!0;case 1:case"end":return w.stop()}}),w,this)})));return function(){return w.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var w=(0,r.e)(x().mark((function w(v){var I;return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:return(I=v?m(v):null)&&uw(I.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),w.abrupt("return",this._updateCurrentUser(I&&I._clone(this)));case 3:case"end":return w.stop()}}),w,this)})));return function(v){return w.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var w=(0,r.e)(x().mark((function w(v){var I=this;return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:if(!this._deleted){w.next=2;break}return w.abrupt("return");case 2:return v&&uw(this.tenantId===v.tenantId,this,"tenant-id-mismatch"),w.abrupt("return",this.queue((0,r.e)(x().mark((function w(){return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,I.directlySetCurrentUser(v);case 2:I.notifyAuthListeners();case 3:case"end":return w.stop()}}),w)})))));case 4:case"end":return w.stop()}}),w,this)})));return function(v){return w.apply(this,arguments)}}()},{key:"signOut",value:function(){var w=(0,r.e)(x().mark((function w(){return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){w.next=3;break}return w.next=3,this._setRedirectUser(null);case 3:return w.abrupt("return",this._updateCurrentUser(null));case 4:case"end":return w.stop()}}),w,this)})));return function(){return w.apply(this,arguments)}}()},{key:"setPersistence",value:function(w){var v=this;return this.queue((0,r.e)(x().mark((function I(){return x().wrap((function(I){for(;;)switch(I.prev=I.next){case 0:return I.next=2,v.assertedPersistence.setPersistence(Uw(w));case 2:case"end":return I.stop()}}),I)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(w){this._errorFactory=new E("auth","Firebase",w())}},{key:"onAuthStateChanged",value:function(w,v,I){return this.registerStateListener(this.authStateSubscription,w,v,I)}},{key:"onIdTokenChanged",value:function(w,v,I){return this.registerStateListener(this.idTokenSubscription,w,v,I)}},{key:"toJSON",value:function(){var w;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(w=this._currentUser)||void 0===w?void 0:w.toJSON()}}},{key:"_setRedirectUser",value:function(){var w=(0,r.e)(x().mark((function w(v,I){var P;return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,this.getOrInitRedirectPersistenceManager(I);case 2:return P=w.sent,w.abrupt("return",null===v?P.removeCurrentUser():P.setCurrentUser(v));case 4:case"end":return w.stop()}}),w,this)})));return function(v,I){return w.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var w=(0,r.e)(x().mark((function w(v){var I;return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:if(this.redirectPersistenceManager){w.next=9;break}return uw(I=v&&Uw(v)||this._popupRedirectResolver,this,"argument-error"),w.next=5,Pv.create(this,[Uw(I._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=w.sent,w.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=w.sent;case 9:return w.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return w.stop()}}),w,this)})));return function(v){return w.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var w=(0,r.e)(x().mark((function w(v){var I,P;return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:if(!this._isInitialized){w.next=3;break}return w.next=3,this.queue((0,r.e)(x().mark((function w(){return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:case"end":return w.stop()}}),w)}))));case 3:if((null===(I=this._currentUser)||void 0===I?void 0:I._redirectEventId)!==v){w.next=5;break}return w.abrupt("return",this._currentUser);case 5:if((null===(P=this.redirectUser)||void 0===P?void 0:P._redirectEventId)!==v){w.next=7;break}return w.abrupt("return",this.redirectUser);case 7:return w.abrupt("return",null);case 8:case"end":return w.stop()}}),w,this)})));return function(v){return w.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var w=(0,r.e)(x().mark((function w(v){var I=this;return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:if(v!==this.currentUser){w.next=2;break}return w.abrupt("return",this.queue((0,r.e)(x().mark((function w(){return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:return w.abrupt("return",I.directlySetCurrentUser(v));case 1:case"end":return w.stop()}}),w)})))));case 2:case"end":return w.stop()}}),w,this)})));return function(v){return w.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(w){w===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var w,v;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var I=null!==(v=null===(w=this.currentUser)||void 0===w?void 0:w.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==I&&(this.lastNotifiedUid=I,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(w,v,I,P){var u=this;if(this._deleted)return function(){};var Q="function"===typeof v?v:v.next.bind(v),K=this._isInitialized?Promise.resolve():this._initializationPromise;return uw(K,this,"internal-error"),K.then((function(){return Q(u.currentUser)})),"function"===typeof v?w.addObserver(v,I,P):w.addObserver(v)}},{key:"directlySetCurrentUser",value:function(){var w=(0,r.e)(x().mark((function w(v){return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:if(this.currentUser&&this.currentUser!==v&&(this._currentUser._stopProactiveRefresh(),v&&this.isProactiveRefreshEnabled&&v._startProactiveRefresh()),this.currentUser=v,!v){w.next=7;break}return w.next=5,this.assertedPersistence.setCurrentUser(v);case 5:w.next=9;break;case 7:return w.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return w.stop()}}),w,this)})));return function(v){return w.apply(this,arguments)}}()},{key:"queue",value:function(w){return this.operations=this.operations.then(w,w),this.operations}},{key:"assertedPersistence",get:function(){return uw(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(w){w&&!this.frameworks.includes(w)&&(this.frameworks.push(w),this.frameworks.sort(),this.clientVersion=xv(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getSdkClientVersion",value:function(){return this.clientVersion}}]),w}();function sv(w){return m(w)}var Bv=function(){function w(v){var I=this;(0,Y.e)(this,w),this.auth=v,this.observer=null,this.addObserver=function(w,v){var I=new N(w,v);return I.subscribe.bind(I)}((function(w){return I.observer=w}))}return(0,g.c)(w,[{key:"next",get:function(){return uw(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),w}();var tv=function(){function w(v,I){(0,Y.e)(this,w),this.providerId=v,this.signInMethod=I}return(0,g.c)(w,[{key:"toJSON",value:function(){return Qw("not implemented")}},{key:"_getIdTokenResponse",value:function(w){return Qw("not implemented")}},{key:"_linkToIdToken",value:function(w,v){return Qw("not implemented")}},{key:"_getReauthenticationResolver",value:function(w){return Qw("not implemented")}}]),w}();function iv(w,v){return zv.apply(this,arguments)}function zv(){return(zv=(0,r.e)(x().mark((function w(v,I){return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:return w.abrupt("return",tw(v,"POST","/v1/accounts:update",I));case 1:case"end":return w.stop()}}),w)})))).apply(this,arguments)}function Ev(w,v){return ov.apply(this,arguments)}function ov(){return(ov=(0,r.e)(x().mark((function w(v,I){return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:return w.abrupt("return",ow(v,"POST","/v1/accounts:signInWithPassword",Bw(v,I)));case 1:case"end":return w.stop()}}),w)})))).apply(this,arguments)}function hv(w,v){return nv.apply(this,arguments)}function nv(){return(nv=(0,r.e)(x().mark((function w(v,I){return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:return w.abrupt("return",ow(v,"POST","/v1/accounts:signInWithEmailLink",Bw(v,I)));case 1:case"end":return w.stop()}}),w)})))).apply(this,arguments)}function Wv(w,v){return Vv.apply(this,arguments)}function Vv(){return(Vv=(0,r.e)(x().mark((function w(v,I){return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:return w.abrupt("return",ow(v,"POST","/v1/accounts:signInWithEmailLink",Bw(v,I)));case 1:case"end":return w.stop()}}),w)})))).apply(this,arguments)}var Fv=function(w){(0,K.e)(I,w);var v=(0,a.d)(I);function I(w,P,u){var Q,K=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return(0,Y.e)(this,I),(Q=v.call(this,"password",u))._email=w,Q._password=P,Q._tenantId=K,Q}return(0,g.c)(I,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var w=(0,r.e)(x().mark((function w(v){return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:w.t0=this.signInMethod,w.next="password"===w.t0?3:"emailLink"===w.t0?4:5;break;case 3:return w.abrupt("return",Ev(v,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return w.abrupt("return",hv(v,{email:this._email,oobCode:this._password}));case 5:X(v,"internal-error");case 6:case"end":return w.stop()}}),w,this)})));return function(v){return w.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var w=(0,r.e)(x().mark((function w(v,I){return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:w.t0=this.signInMethod,w.next="password"===w.t0?3:"emailLink"===w.t0?4:5;break;case 3:return w.abrupt("return",iv(v,{idToken:I,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return w.abrupt("return",Wv(v,{idToken:I,email:this._email,oobCode:this._password}));case 5:X(v,"internal-error");case 6:case"end":return w.stop()}}),w,this)})));return function(v,I){return w.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(w){return this._getIdTokenResponse(w)}}],[{key:"_fromEmailAndPassword",value:function(w,v){return new I(w,v,"password")}},{key:"_fromEmailAndCode",value:function(w,v){var P=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new I(w,v,"emailLink",P)}},{key:"fromJSON",value:function(w){var v="string"===typeof w?JSON.parse(w):w;if((null===v||void 0===v?void 0:v.email)&&(null===v||void 0===v?void 0:v.password)){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}}]),I}(tv);function Ov(w,v){return Nv.apply(this,arguments)}function Nv(){return(Nv=(0,r.e)(x().mark((function w(v,I){return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:return w.abrupt("return",ow(v,"POST","/v1/accounts:signInWithIdp",Bw(v,I)));case 1:case"end":return w.stop()}}),w)})))).apply(this,arguments)}var qv=function(w){(0,K.e)(I,w);var v=(0,a.d)(I);function I(){var w;return(0,Y.e)(this,I),(w=v.apply(this,arguments)).pendingToken=null,w}return(0,g.c)(I,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(w){return Ov(w,this.buildRequest())}},{key:"_linkToIdToken",value:function(w,v){var I=this.buildRequest();return I.idToken=v,Ov(w,I)}},{key:"_getReauthenticationResolver",value:function(w){var v=this.buildRequest();return v.autoCreate=!1,Ov(w,v)}},{key:"buildRequest",value:function(){var w={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)w.pendingToken=this.pendingToken;else{var v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),w.postBody=V(v)}return w}}],[{key:"_fromParams",value:function(w){var v=new I(w.providerId,w.signInMethod);return w.idToken||w.accessToken?(w.idToken&&(v.idToken=w.idToken),w.accessToken&&(v.accessToken=w.accessToken),w.nonce&&!w.pendingToken&&(v.nonce=w.nonce),w.pendingToken&&(v.pendingToken=w.pendingToken)):w.oauthToken&&w.oauthTokenSecret?(v.accessToken=w.oauthToken,v.secret=w.oauthTokenSecret):X("argument-error"),v}},{key:"fromJSON",value:function(w){var v="string"===typeof w?JSON.parse(w):w,P=v.providerId,u=v.signInMethod,Q=M(v,["providerId","signInMethod"]);if(!P||!u)return null;var K=new I(P,u);return K.idToken=Q.idToken||void 0,K.accessToken=Q.accessToken||void 0,K.secret=Q.secret,K.nonce=Q.nonce,K.pendingToken=Q.pendingToken||null,K}}]),I}(tv);function mv(w,v){return cv.apply(this,arguments)}function cv(){return(cv=(0,r.e)(x().mark((function w(v,I){return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:return w.abrupt("return",tw(v,"POST","/v1/accounts:sendVerificationCode",Bw(v,I)));case 1:case"end":return w.stop()}}),w)})))).apply(this,arguments)}function Mv(){return(Mv=(0,r.e)(x().mark((function w(v,I){return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:return w.abrupt("return",ow(v,"POST","/v1/accounts:signInWithPhoneNumber",Bw(v,I)));case 1:case"end":return w.stop()}}),w)})))).apply(this,arguments)}function Sv(){return(Sv=(0,r.e)(x().mark((function w(v,I){var P;return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,ow(v,"POST","/v1/accounts:signInWithPhoneNumber",Bw(v,I));case 2:if(!(P=w.sent).temporaryProof){w.next=5;break}throw Vw(v,"account-exists-with-different-credential",P);case 5:return w.abrupt("return",P);case 6:case"end":return w.stop()}}),w)})))).apply(this,arguments)}var ev=(0,l.c)({},"USER_NOT_FOUND","user-not-found");function Hv(){return(Hv=(0,r.e)(x().mark((function w(v,I){var P;return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:return P=Object.assign(Object.assign({},I),{operation:"REAUTH"}),w.abrupt("return",ow(v,"POST","/v1/accounts:signInWithPhoneNumber",Bw(v,P),ev));case 2:case"end":return w.stop()}}),w)})))).apply(this,arguments)}var Gv=function(w){(0,K.e)(I,w);var v=(0,a.d)(I);function I(w){var P;return(0,Y.e)(this,I),(P=v.call(this,"phone","phone")).params=w,P}return(0,g.c)(I,[{key:"_getIdTokenResponse",value:function(w){return function(w,v){return Mv.apply(this,arguments)}(w,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(w,v){return function(w,v){return Sv.apply(this,arguments)}(w,Object.assign({idToken:v},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(w){return function(w,v){return Hv.apply(this,arguments)}(w,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var w=this.params,v=w.temporaryProof,I=w.phoneNumber,P=w.verificationId,u=w.verificationCode;return v&&I?{temporaryProof:v,phoneNumber:I}:{sessionInfo:P,code:u}}},{key:"toJSON",value:function(){var w={providerId:this.providerId};return this.params.phoneNumber&&(w.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(w.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(w.verificationCode=this.params.verificationCode),this.params.verificationId&&(w.verificationId=this.params.verificationId),w}}],[{key:"_fromVerification",value:function(w,v){return new I({verificationId:w,verificationCode:v})}},{key:"_fromTokenResponse",value:function(w,v){return new I({phoneNumber:w,temporaryProof:v})}},{key:"fromJSON",value:function(w){"string"===typeof w&&(w=JSON.parse(w));var v=w,P=v.verificationId,u=v.verificationCode,Q=v.phoneNumber,K=v.temporaryProof;return u||P||Q||K?new I({verificationId:P,verificationCode:u,phoneNumber:Q,temporaryProof:K}):null}}]),I}(tv);var Lv=function(){function w(v){var I,P,u,Q,K,a;(0,Y.e)(this,w);var U=F(O(v)),p=null!==(I=U.apiKey)&&void 0!==I?I:null,r=null!==(P=U.oobCode)&&void 0!==P?P:null,g=function(w){switch(w){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(u=U.mode)&&void 0!==u?u:null);uw(p&&r&&g,"argument-error"),this.apiKey=p,this.operation=g,this.code=r,this.continueUrl=null!==(Q=U.continueUrl)&&void 0!==Q?Q:null,this.languageCode=null!==(K=U.languageCode)&&void 0!==K?K:null,this.tenantId=null!==(a=U.tenantId)&&void 0!==a?a:null}return(0,g.c)(w,null,[{key:"parseLink",value:function(v){var I=function(w){var v=F(O(w)).link,I=v?F(O(v)).deep_link_id:null,P=F(O(w)).deep_link_id;return(P?F(O(P)).link:null)||P||I||v||w}(v);try{return new w(I)}catch(w){return null}}}]),w}();var dv=function(){function w(){(0,Y.e)(this,w),this.providerId=w.PROVIDER_ID}return(0,g.c)(w,null,[{key:"credential",value:function(w,v){return Fv._fromEmailAndPassword(w,v)}},{key:"credentialWithLink",value:function(w,v){var I=Lv.parseLink(v);return uw(I,"argument-error"),Fv._fromEmailAndCode(w,I.code,I.tenantId)}}]),w}();dv.PROVIDER_ID="password",dv.EMAIL_PASSWORD_SIGN_IN_METHOD="password",dv.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Dv=function(){function w(v){(0,Y.e)(this,w),this.providerId=v,this.defaultLanguageCode=null,this.customParameters={}}return(0,g.c)(w,[{key:"setDefaultLanguage",value:function(w){this.defaultLanguageCode=w}},{key:"setCustomParameters",value:function(w){return this.customParameters=w,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),w}(),fv=function(w){(0,K.e)(I,w);var v=(0,a.d)(I);function I(){var w;return(0,Y.e)(this,I),(w=v.apply(this,arguments)).scopes=[],w}return(0,g.c)(I,[{key:"addScope",value:function(w){return this.scopes.includes(w)||this.scopes.push(w),this}},{key:"getScopes",value:function(){return(0,J.d)(this.scopes)}}]),I}(Dv),bv=function(w){(0,K.e)(I,w);var v=(0,a.d)(I);function I(){return(0,Y.e)(this,I),v.call(this,"facebook.com")}return(0,g.c)(I,null,[{key:"credential",value:function(w){return qv._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.FACEBOOK_SIGN_IN_METHOD,accessToken:w})}},{key:"credentialFromResult",value:function(w){return I.credentialFromTaggedObject(w)}},{key:"credentialFromError",value:function(w){return I.credentialFromTaggedObject(w.customData||{})}},{key:"credentialFromTaggedObject",value:function(w){var v=w._tokenResponse;if(!v||!("oauthAccessToken"in v))return null;if(!v.oauthAccessToken)return null;try{return I.credential(v.oauthAccessToken)}catch(w){return null}}}]),I}(fv);bv.FACEBOOK_SIGN_IN_METHOD="facebook.com",bv.PROVIDER_ID="facebook.com";var kv=function(w){(0,K.e)(I,w);var v=(0,a.d)(I);function I(){var w;return(0,Y.e)(this,I),(w=v.call(this,"google.com")).addScope("profile"),w}return(0,g.c)(I,null,[{key:"credential",value:function(w,v){return qv._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GOOGLE_SIGN_IN_METHOD,idToken:w,accessToken:v})}},{key:"credentialFromResult",value:function(w){return I.credentialFromTaggedObject(w)}},{key:"credentialFromError",value:function(w){return I.credentialFromTaggedObject(w.customData||{})}},{key:"credentialFromTaggedObject",value:function(w){var v=w._tokenResponse;if(!v)return null;var P=v.oauthIdToken,u=v.oauthAccessToken;if(!P&&!u)return null;try{return I.credential(P,u)}catch(w){return null}}}]),I}(fv);kv.GOOGLE_SIGN_IN_METHOD="google.com",kv.PROVIDER_ID="google.com";var Cv=function(w){(0,K.e)(I,w);var v=(0,a.d)(I);function I(){return(0,Y.e)(this,I),v.call(this,"github.com")}return(0,g.c)(I,null,[{key:"credential",value:function(w){return qv._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GITHUB_SIGN_IN_METHOD,accessToken:w})}},{key:"credentialFromResult",value:function(w){return I.credentialFromTaggedObject(w)}},{key:"credentialFromError",value:function(w){return I.credentialFromTaggedObject(w.customData||{})}},{key:"credentialFromTaggedObject",value:function(w){var v=w._tokenResponse;if(!v||!("oauthAccessToken"in v))return null;if(!v.oauthAccessToken)return null;try{return I.credential(v.oauthAccessToken)}catch(w){return null}}}]),I}(fv);Cv.GITHUB_SIGN_IN_METHOD="github.com",Cv.PROVIDER_ID="github.com";var yv=function(w){(0,K.e)(I,w);var v=(0,a.d)(I);function I(){return(0,Y.e)(this,I),v.call(this,"twitter.com")}return(0,g.c)(I,null,[{key:"credential",value:function(w,v){return qv._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.TWITTER_SIGN_IN_METHOD,oauthToken:w,oauthTokenSecret:v})}},{key:"credentialFromResult",value:function(w){return I.credentialFromTaggedObject(w)}},{key:"credentialFromError",value:function(w){return I.credentialFromTaggedObject(w.customData||{})}},{key:"credentialFromTaggedObject",value:function(w){var v=w._tokenResponse;if(!v)return null;var P=v.oauthAccessToken,u=v.oauthTokenSecret;if(!P||!u)return null;try{return I.credential(P,u)}catch(w){return null}}}]),I}(fv);yv.TWITTER_SIGN_IN_METHOD="twitter.com",yv.PROVIDER_ID="twitter.com";var Tv=function(){function w(v){(0,Y.e)(this,w),this.user=v.user,this.providerId=v.providerId,this._tokenResponse=v._tokenResponse,this.operationType=v.operationType}return(0,g.c)(w,null,[{key:"_fromIdTokenResponse",value:function(){var v=(0,r.e)(x().mark((function v(I,P,u){var Q,K,a,U,p=arguments;return x().wrap((function(v){for(;;)switch(v.prev=v.next){case 0:return Q=p.length>3&&void 0!==p[3]&&p[3],v.next=3,Xw._fromIdTokenResponse(I,u,Q);case 3:return K=v.sent,a=Zv(u),U=new w({user:K,providerId:a,_tokenResponse:u,operationType:P}),v.abrupt("return",U);case 7:case"end":return v.stop()}}),v)})));return function(w,I,P){return v.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var v=(0,r.e)(x().mark((function v(I,P,u){var Q;return x().wrap((function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,I._updateTokensIfNecessary(u,!0);case 2:return Q=Zv(u),v.abrupt("return",new w({user:I,providerId:Q,_tokenResponse:u,operationType:P}));case 4:case"end":return v.stop()}}),v)})));return function(w,I,P){return v.apply(this,arguments)}}()}]),w}();function Zv(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}var Av=function(w){(0,K.e)(I,w);var v=(0,a.d)(I);function I(w,P,u,K){var a,U;return(0,Y.e)(this,I),(a=v.call(this,P.code,P.message)).operationType=u,a.user=K,a.name="FirebaseError",Object.setPrototypeOf((0,Q.d)(a),I.prototype),a.appName=w.name,a.code=P.code,a.tenantId=null!==(U=w.tenantId)&&void 0!==U?U:void 0,a.serverResponse=P.customData.serverResponse,a}return(0,g.c)(I,null,[{key:"_fromErrorAndOperation",value:function(w,v,P,u){return new I(w,v,P,u)}}]),I}(z);function Xv(w,v,I,P){return("reauthenticate"===v?I._getReauthenticationResolver(w):I._getIdTokenResponse(w)).catch((function(I){if(I.code==="auth/".concat("multi-factor-auth-required"))throw Av._fromErrorAndOperation(w,I,v,P);throw I}))}function wI(w,v){return vI.apply(this,arguments)}function vI(){return vI=(0,r.e)(x().mark((function w(v,I){var P,u,Q=arguments;return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:return P=Q.length>2&&void 0!==Q[2]&&Q[2],w.t0=ew,w.t1=v,w.t2=I,w.t3=v.auth,w.next=7,v.getIdToken();case 7:return w.t4=w.sent,w.t5=w.t2._linkToIdToken.call(w.t2,w.t3,w.t4),w.t6=P,w.next=12,(0,w.t0)(w.t1,w.t5,w.t6);case 12:return u=w.sent,w.abrupt("return",Tv._forOperation(v,"link",u));case 14:case"end":return w.stop()}}),w)}))),vI.apply(this,arguments)}function II(w,v){return PI.apply(this,arguments)}function PI(){return PI=(0,r.e)(x().mark((function w(v,I){var P,u,Q,K,a,U,p=arguments;return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:return P=p.length>2&&void 0!==p[2]&&p[2],u=v.auth,Q="reauthenticate",w.prev=3,w.next=6,ew(v,Xv(u,Q,I,v),P);case 6:return uw((K=w.sent).idToken,u,"internal-error"),uw(a=Sw(K.idToken),u,"internal-error"),U=a.sub,uw(v.uid===U,u,"user-mismatch"),w.abrupt("return",Tv._forOperation(v,Q,K));case 15:throw w.prev=15,w.t0=w.catch(3),(null===w.t0||void 0===w.t0?void 0:w.t0.code)==="auth/".concat("user-not-found")&&X(u,"user-mismatch"),w.t0;case 19:case"end":return w.stop()}}),w,null,[[3,15]])}))),PI.apply(this,arguments)}function uI(w,v){return QI.apply(this,arguments)}function QI(){return QI=(0,r.e)(x().mark((function w(v,I){var P,u,Q,K,a=arguments;return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:return P=a.length>2&&void 0!==a[2]&&a[2],u="signIn",w.next=4,Xv(v,u,I);case 4:return Q=w.sent,w.next=7,Tv._fromIdTokenResponse(v,u,Q);case 7:if(K=w.sent,P){w.next=11;break}return w.next=11,v._updateCurrentUser(K.user);case 11:return w.abrupt("return",K);case 12:case"end":return w.stop()}}),w)}))),QI.apply(this,arguments)}function KI(w,v,I,P){return m(w).onIdTokenChanged(v,I,P)}function aI(w){m(w).useDeviceLanguage()}function UI(w){return m(w).signOut()}function pI(w,v){return tw(w,"POST","/v2/accounts/mfaEnrollment:start",Bw(w,v))}new WeakMap;var rI="__sak",YI=function(){function w(v,I){(0,Y.e)(this,w),this.storage=v,this.type=I}return(0,g.c)(w,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(rI,"1"),this.storage.removeItem(rI),Promise.resolve(!0)):Promise.resolve(!1)}catch(w){return Promise.resolve(!1)}}},{key:"_set",value:function(w,v){return this.storage.setItem(w,JSON.stringify(v)),Promise.resolve()}},{key:"_get",value:function(w){var v=this.storage.getItem(w);return Promise.resolve(v?JSON.parse(v):null)}},{key:"_remove",value:function(w){return this.storage.removeItem(w),Promise.resolve()}}]),w}();var gI=function(w){(0,K.e)(I,w);var v=(0,a.d)(I);function I(){var w;return(0,Y.e)(this,I),(w=v.call(this,window.localStorage,"LOCAL")).boundEventHandler=function(v,I){return w.onStorageEvent(v,I)},w.listeners={},w.localCache={},w.pollTimer=null,w.safariLocalStorageNotSynced=function(){var w=i();return Kv(w)||gv(w)}()&&function(){try{return!(!window||window===window.top)}catch(w){return!1}}(),w.fallbackToPolling=Rv(),w._shouldAllowMigration=!0,w}return(0,g.c)(I,[{key:"forAllChangedKeys",value:function(w){for(var v=0,I=Object.keys(this.listeners);v<I.length;v++){var P=I[v],u=this.storage.getItem(P),Q=this.localCache[P];u!==Q&&w(P,Q,u)}}},{key:"onStorageEvent",value:function(w){var v=this,I=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(w.key){var P=w.key;if(I?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var u=this.storage.getItem(P);if(w.newValue!==u)null!==w.newValue?this.storage.setItem(P,w.newValue):this.storage.removeItem(P);else if(this.localCache[P]===w.newValue&&!I)return}var Q=function(){var w=v.storage.getItem(P);(I||v.localCache[P]!==w)&&v.notifyListeners(P,w)},K=this.storage.getItem(P);lv()&&K!==w.newValue&&w.newValue!==w.oldValue?setTimeout(Q,10):Q()}else this.forAllChangedKeys((function(w,I,P){v.notifyListeners(w,P)}))}},{key:"notifyListeners",value:function(w,v){this.localCache[w]=v;var I=this.listeners[w];if(I)for(var P=0,u=Array.from(I);P<u.length;P++){(0,u[P])(v?JSON.parse(v):v)}}},{key:"startPolling",value:function(){var w=this;this.stopPolling(),this.pollTimer=setInterval((function(){w.forAllChangedKeys((function(v,I,P){w.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:I,newValue:P}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(w,v){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[w]||(this.listeners[w]=new Set,this.localCache[w]=this.storage.getItem(w)),this.listeners[w].add(v)}},{key:"_removeListener",value:function(w,v){this.listeners[w]&&(this.listeners[w].delete(v),0===this.listeners[w].size&&delete this.listeners[w]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var w=(0,r.e)(x().mark((function w(v,Q){return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,(0,P.c)((0,u.d)(I.prototype),"_set",this).call(this,v,Q);case 2:this.localCache[v]=JSON.stringify(Q);case 3:case"end":return w.stop()}}),w,this)})));return function(v,I){return w.apply(this,arguments)}}()},{key:"_get",value:function(){var w=(0,r.e)(x().mark((function w(v){var Q;return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,(0,P.c)((0,u.d)(I.prototype),"_get",this).call(this,v);case 2:return Q=w.sent,this.localCache[v]=JSON.stringify(Q),w.abrupt("return",Q);case 5:case"end":return w.stop()}}),w,this)})));return function(v){return w.apply(this,arguments)}}()},{key:"_remove",value:function(){var w=(0,r.e)(x().mark((function w(v){return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,(0,P.c)((0,u.d)(I.prototype),"_remove",this).call(this,v);case 2:delete this.localCache[v];case 3:case"end":return w.stop()}}),w,this)})));return function(v){return w.apply(this,arguments)}}()}]),I}(YI);gI.type="LOCAL";var JI=gI,lI=function(w){(0,K.e)(I,w);var v=(0,a.d)(I);function I(){return(0,Y.e)(this,I),v.call(this,window.sessionStorage,"SESSION")}return(0,g.c)(I,[{key:"_addListener",value:function(w,v){}},{key:"_removeListener",value:function(w,v){}}]),I}(YI);lI.type="SESSION";var RI=lI;function xI(w){return Promise.all(w.map(function(){var w=(0,r.e)(x().mark((function w(v){var I;return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:return w.prev=0,w.next=3,v;case 3:return I=w.sent,w.abrupt("return",{fulfilled:!0,value:I});case 7:return w.prev=7,w.t0=w.catch(0),w.abrupt("return",{fulfilled:!1,reason:w.t0});case 10:case"end":return w.stop()}}),w,null,[[0,7]])})));return function(v){return w.apply(this,arguments)}}()))}var jI=function(){function w(v){(0,Y.e)(this,w),this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return(0,g.c)(w,[{key:"isListeningto",value:function(w){return this.eventTarget===w}},{key:"handleEvent",value:function(){var w=(0,r.e)(x().mark((function w(v){var I,P,u,Q,K,a,U,p;return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:if(P=(I=v).data,u=P.eventId,Q=P.eventType,K=P.data,null===(a=this.handlersMap[Q])||void 0===a?void 0:a.size){w.next=5;break}return w.abrupt("return");case 5:return I.ports[0].postMessage({status:"ack",eventId:u,eventType:Q}),U=Array.from(a).map(function(){var w=(0,r.e)(x().mark((function w(v){return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:return w.abrupt("return",v(I.origin,K));case 1:case"end":return w.stop()}}),w)})));return function(v){return w.apply(this,arguments)}}()),w.next=9,xI(U);case 9:p=w.sent,I.ports[0].postMessage({status:"done",eventId:u,eventType:Q,response:p});case 11:case"end":return w.stop()}}),w,this)})));return function(v){return w.apply(this,arguments)}}()},{key:"_subscribe",value:function(w,v){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[w]||(this.handlersMap[w]=new Set),this.handlersMap[w].add(v)}},{key:"_unsubscribe",value:function(w,v){this.handlersMap[w]&&v&&this.handlersMap[w].delete(v),v&&0!==this.handlersMap[w].size||delete this.handlersMap[w],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(v){var I=this.receivers.find((function(w){return w.isListeningto(v)}));if(I)return I;var P=new w(v);return this.receivers.push(P),P}}]),w}();function sI(){for(var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,I="",P=0;P<v;P++)I+=Math.floor(10*Math.random());return w+I}jI.receivers=[];var BI=function(){function w(v){(0,Y.e)(this,w),this.target=v,this.handlers=new Set}return(0,g.c)(w,[{key:"removeMessageHandler",value:function(w){w.messageChannel&&(w.messageChannel.port1.removeEventListener("message",w.onMessage),w.messageChannel.port1.close()),this.handlers.delete(w)}},{key:"_send",value:function(){var w=(0,r.e)(x().mark((function w(v,I){var P,u,Q,K,a=this,U=arguments;return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:if(P=U.length>2&&void 0!==U[2]?U[2]:50,u="undefined"!==typeof MessageChannel?new MessageChannel:null){w.next=4;break}throw new Error("connection_unavailable");case 4:return w.abrupt("return",new Promise((function(w,U){var p=sI("",20);u.port1.start();var r=setTimeout((function(){U(new Error("unsupported_event"))}),P);K={messageChannel:u,onMessage:function(v){var I=v;if(I.data.eventId===p)switch(I.data.status){case"ack":clearTimeout(r),Q=setTimeout((function(){U(new Error("timeout"))}),3e3);break;case"done":clearTimeout(Q),w(I.data.response);break;default:clearTimeout(r),clearTimeout(Q),U(new Error("invalid_response"))}}},a.handlers.add(K),u.port1.addEventListener("message",K.onMessage),a.target.postMessage({eventType:v,eventId:p,data:I},[u.port2])})).finally((function(){K&&a.removeMessageHandler(K)})));case 5:case"end":return w.stop()}}),w)})));return function(v,I){return w.apply(this,arguments)}}()}]),w}();function tI(){return window}function iI(){return"undefined"!==typeof tI().WorkerGlobalScope&&"function"===typeof tI().importScripts}function zI(){return EI.apply(this,arguments)}function EI(){return(EI=(0,r.e)(x().mark((function w(){var v;return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){w.next=2;break}return w.abrupt("return",null);case 2:return w.prev=2,w.next=5,navigator.serviceWorker.ready;case 5:return v=w.sent,w.abrupt("return",v.active);case 9:return w.prev=9,w.t0=w.catch(2),w.abrupt("return",null);case 12:case"end":return w.stop()}}),w,null,[[2,9]])})))).apply(this,arguments)}function oI(){var w;return(null===(w=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===w?void 0:w.controller)||null}var hI="firebaseLocalStorageDb",nI="firebaseLocalStorage",WI="fbase_key",VI=function(){function w(v){(0,Y.e)(this,w),this.request=v}return(0,g.c)(w,[{key:"toPromise",value:function(){var w=this;return new Promise((function(v,I){w.request.addEventListener("success",(function(){v(w.request.result)})),w.request.addEventListener("error",(function(){I(w.request.error)}))}))}}]),w}();function FI(w,v){return w.transaction([nI],v?"readwrite":"readonly").objectStore(nI)}function OI(){var w=indexedDB.deleteDatabase(hI);return new VI(w).toPromise()}function NI(){var w=indexedDB.open(hI,1);return new Promise((function(v,I){w.addEventListener("error",(function(){I(w.error)})),w.addEventListener("upgradeneeded",(function(){var v=w.result;try{v.createObjectStore(nI,{keyPath:WI})}catch(w){I(w)}})),w.addEventListener("success",(0,r.e)(x().mark((function I(){var P;return x().wrap((function(I){for(;;)switch(I.prev=I.next){case 0:if((P=w.result).objectStoreNames.contains(nI)){I.next=12;break}return P.close(),I.next=5,OI();case 5:return I.t0=v,I.next=8,NI();case 8:I.t1=I.sent,(0,I.t0)(I.t1),I.next=13;break;case 12:v(P);case 13:case"end":return I.stop()}}),I)}))))}))}function qI(w,v,I){return mI.apply(this,arguments)}function mI(){return(mI=(0,r.e)(x().mark((function w(v,I,P){var u,Q;return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:return Q=FI(v,!0).put((u={},(0,l.c)(u,WI,I),(0,l.c)(u,"value",P),u)),w.abrupt("return",new VI(Q).toPromise());case 2:case"end":return w.stop()}}),w)})))).apply(this,arguments)}function cI(w,v){return MI.apply(this,arguments)}function MI(){return(MI=(0,r.e)(x().mark((function w(v,I){var P,u;return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:return P=FI(v,!1).get(I),w.next=3,new VI(P).toPromise();case 3:return u=w.sent,w.abrupt("return",void 0===u?null:u.value);case 5:case"end":return w.stop()}}),w)})))).apply(this,arguments)}function SI(w,v){var I=FI(w,!0).delete(v);return new VI(I).toPromise()}var eI=function(){function w(){(0,Y.e)(this,w),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return(0,g.c)(w,[{key:"_openDb",value:function(){var w=(0,r.e)(x().mark((function w(){return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:if(!this.db){w.next=2;break}return w.abrupt("return",this.db);case 2:return w.next=4,NI();case 4:return this.db=w.sent,w.abrupt("return",this.db);case 6:case"end":return w.stop()}}),w,this)})));return function(){return w.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var w=(0,r.e)(x().mark((function w(v){var I,P;return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:I=0;case 1:return w.prev=2,w.next=5,this._openDb();case 5:return P=w.sent,w.next=8,v(P);case 8:return w.abrupt("return",w.sent);case 11:if(w.prev=11,w.t0=w.catch(2),!(I++>3)){w.next=15;break}throw w.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:w.next=1;break;case 18:case"end":return w.stop()}}),w,this,[[2,11]])})));return function(v){return w.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var w=(0,r.e)(x().mark((function w(){return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:return w.abrupt("return",iI()?this.initializeReceiver():this.initializeSender());case 1:case"end":return w.stop()}}),w,this)})));return function(){return w.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var w=(0,r.e)(x().mark((function w(){var v=this;return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:this.receiver=jI._getInstance(iI()?self:null),this.receiver._subscribe("keyChanged",function(){var w=(0,r.e)(x().mark((function w(I,P){var u;return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,v._poll();case 2:return u=w.sent,w.abrupt("return",{keyProcessed:u.includes(P.key)});case 4:case"end":return w.stop()}}),w)})));return function(v,I){return w.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var w=(0,r.e)(x().mark((function w(v,I){return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:return w.abrupt("return",["keyChanged"]);case 1:case"end":return w.stop()}}),w)})));return function(v,I){return w.apply(this,arguments)}}());case 3:case"end":return w.stop()}}),w,this)})));return function(){return w.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var w=(0,r.e)(x().mark((function w(){var v,I,P;return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,zI();case 2:if(this.activeServiceWorker=w.sent,this.activeServiceWorker){w.next=5;break}return w.abrupt("return");case 5:return this.sender=new BI(this.activeServiceWorker),w.next=8,this.sender._send("ping",{},800);case 8:if(P=w.sent){w.next=11;break}return w.abrupt("return");case 11:(null===(v=P[0])||void 0===v?void 0:v.fulfilled)&&(null===(I=P[0])||void 0===I?void 0:I.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return w.stop()}}),w,this)})));return function(){return w.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var w=(0,r.e)(x().mark((function w(v){return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:if(this.sender&&this.activeServiceWorker&&oI()===this.activeServiceWorker){w.next=2;break}return w.abrupt("return");case 2:return w.prev=2,w.next=5,this.sender._send("keyChanged",{key:v},this.serviceWorkerReceiverAvailable?800:50);case 5:w.next=9;break;case 7:w.prev=7,w.t0=w.catch(2);case 9:case"end":return w.stop()}}),w,this,[[2,7]])})));return function(v){return w.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var w=(0,r.e)(x().mark((function w(){var v;return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:if(w.prev=0,indexedDB){w.next=3;break}return w.abrupt("return",!1);case 3:return w.next=5,NI();case 5:return v=w.sent,w.next=8,qI(v,rI,"1");case 8:return w.next=10,SI(v,rI);case 10:return w.abrupt("return",!0);case 13:w.prev=13,w.t0=w.catch(0);case 15:return w.abrupt("return",!1);case 16:case"end":return w.stop()}}),w,null,[[0,13]])})));return function(){return w.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var w=(0,r.e)(x().mark((function w(v){return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:return this.pendingWrites++,w.prev=1,w.next=4,v();case 4:return w.prev=4,this.pendingWrites--,w.finish(4);case 7:case"end":return w.stop()}}),w,this,[[1,,4,7]])})));return function(v){return w.apply(this,arguments)}}()},{key:"_set",value:function(){var w=(0,r.e)(x().mark((function w(v,I){var P=this;return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:return w.abrupt("return",this._withPendingWrite((0,r.e)(x().mark((function w(){return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,P._withRetries((function(w){return qI(w,v,I)}));case 2:return P.localCache[v]=I,w.abrupt("return",P.notifyServiceWorker(v));case 4:case"end":return w.stop()}}),w)})))));case 1:case"end":return w.stop()}}),w,this)})));return function(v,I){return w.apply(this,arguments)}}()},{key:"_get",value:function(){var w=(0,r.e)(x().mark((function w(v){var I;return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,this._withRetries((function(w){return cI(w,v)}));case 2:return I=w.sent,this.localCache[v]=I,w.abrupt("return",I);case 5:case"end":return w.stop()}}),w,this)})));return function(v){return w.apply(this,arguments)}}()},{key:"_remove",value:function(){var w=(0,r.e)(x().mark((function w(v){var I=this;return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:return w.abrupt("return",this._withPendingWrite((0,r.e)(x().mark((function w(){return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,I._withRetries((function(w){return SI(w,v)}));case 2:return delete I.localCache[v],w.abrupt("return",I.notifyServiceWorker(v));case 4:case"end":return w.stop()}}),w)})))));case 1:case"end":return w.stop()}}),w,this)})));return function(v){return w.apply(this,arguments)}}()},{key:"_poll",value:function(){var w=(0,r.e)(x().mark((function w(){var v,I,P,u,Q,K,a,p,r,Y,g;return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,this._withRetries((function(w){var v=FI(w,!1).getAll();return new VI(v).toPromise()}));case 2:if(v=w.sent){w.next=5;break}return w.abrupt("return",[]);case 5:if(0===this.pendingWrites){w.next=7;break}return w.abrupt("return",[]);case 7:I=[],P=new Set,u=(0,U.b)(v);try{for(u.s();!(Q=u.n()).done;)K=Q.value,a=K.fbase_key,p=K.value,P.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(p)&&(this.notifyListeners(a,p),I.push(a))}catch(w){u.e(w)}finally{u.f()}for(r=0,Y=Object.keys(this.localCache);r<Y.length;r++)g=Y[r],this.localCache[g]&&!P.has(g)&&(this.notifyListeners(g,null),I.push(g));return w.abrupt("return",I);case 13:case"end":return w.stop()}}),w,this)})));return function(){return w.apply(this,arguments)}}()},{key:"notifyListeners",value:function(w,v){this.localCache[w]=v;var I=this.listeners[w];if(I)for(var P=0,u=Array.from(I);P<u.length;P++){(0,u[P])(v)}}},{key:"startPolling",value:function(){var w=this;this.stopPolling(),this.pollTimer=setInterval((0,r.e)(x().mark((function v(){return x().wrap((function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",w._poll());case 1:case"end":return v.stop()}}),v)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(w,v){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[w]||(this.listeners[w]=new Set,this._get(w)),this.listeners[w].add(v)}},{key:"_removeListener",value:function(w,v){this.listeners[w]&&(this.listeners[w].delete(v),0===this.listeners[w].size&&delete this.listeners[w]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),w}();eI.type="LOCAL";var HI=eI;function GI(w,v){return tw(w,"POST","/v2/accounts/mfaSignIn:start",Bw(w,v))}function LI(w){return new Promise((function(v,I){var P=document.createElement("script");P.setAttribute("src",w),P.onload=v,P.onerror=function(w){var v=ww("internal-error");v.customData=w,I(v)},P.type="text/javascript",P.charset="UTF-8",function(){var w,v;return null!==(v=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==v?v:document}().appendChild(P)}))}function dI(w){return"__".concat(w).concat(Math.floor(1e6*Math.random()))}dI("rcb"),new lw(3e4,6e4);var DI="recaptcha";function fI(w,v,I){return bI.apply(this,arguments)}function bI(){return(bI=(0,r.e)(x().mark((function w(v,I,P){var u,Q,K,a,U,p,r,Y,g;return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,P.verify();case 2:if(Q=w.sent,w.prev=3,uw("string"===typeof Q,v,"argument-error"),uw(P.type===DI,v,"argument-error"),!("session"in(K="string"===typeof I?{phoneNumber:I}:I))){w.next=26;break}if(a=K.session,!("phoneNumber"in K)){w.next=17;break}return uw("enroll"===a.type,v,"internal-error"),w.next=13,pI(v,{idToken:a.credential,phoneEnrollmentInfo:{phoneNumber:K.phoneNumber,recaptchaToken:Q}});case 13:return U=w.sent,w.abrupt("return",U.phoneSessionInfo.sessionInfo);case 17:return uw("signin"===a.type,v,"internal-error"),uw(p=(null===(u=K.multiFactorHint)||void 0===u?void 0:u.uid)||K.multiFactorUid,v,"missing-multi-factor-info"),w.next=22,GI(v,{mfaPendingCredential:a.credential,mfaEnrollmentId:p,phoneSignInInfo:{recaptchaToken:Q}});case 22:return r=w.sent,w.abrupt("return",r.phoneResponseInfo.sessionInfo);case 24:w.next=31;break;case 26:return w.next=28,mv(v,{phoneNumber:K.phoneNumber,recaptchaToken:Q});case 28:return Y=w.sent,g=Y.sessionInfo,w.abrupt("return",g);case 31:return w.prev=31,P._reset(),w.finish(31);case 34:case"end":return w.stop()}}),w,null,[[3,,31,34]])})))).apply(this,arguments)}var kI=function(){function w(v){(0,Y.e)(this,w),this.providerId=w.PROVIDER_ID,this.auth=sv(v)}return(0,g.c)(w,[{key:"verifyPhoneNumber",value:function(w,v){return fI(this.auth,w,m(v))}}],[{key:"credential",value:function(w,v){return Gv._fromVerification(w,v)}},{key:"credentialFromResult",value:function(v){var I=v;return w.credentialFromTaggedObject(I)}},{key:"credentialFromError",value:function(v){return w.credentialFromTaggedObject(v.customData||{})}},{key:"credentialFromTaggedObject",value:function(w){var v=w._tokenResponse;if(!v)return null;var I=v.phoneNumber,P=v.temporaryProof;return I&&P?Gv._fromTokenResponse(I,P):null}}]),w}();function CI(w,v){return v?Uw(v):(uw(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}kI.PROVIDER_ID="phone",kI.PHONE_SIGN_IN_METHOD="phone";var yI=function(w){(0,K.e)(I,w);var v=(0,a.d)(I);function I(w){var P;return(0,Y.e)(this,I),(P=v.call(this,"custom","custom")).params=w,P}return(0,g.c)(I,[{key:"_getIdTokenResponse",value:function(w){return Ov(w,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(w,v){return Ov(w,this._buildIdpRequest(v))}},{key:"_getReauthenticationResolver",value:function(w){return Ov(w,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(w){var v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return w&&(v.idToken=w),v}}]),I}(tv);function TI(w){return uI(w.auth,new yI(w),w.bypassAuthState)}function ZI(w){var v=w.auth,I=w.user;return uw(I,v,"internal-error"),II(I,new yI(w),w.bypassAuthState)}function AI(w){return XI.apply(this,arguments)}function XI(){return(XI=(0,r.e)(x().mark((function w(v){var I,P;return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:return I=v.auth,uw(P=v.user,I,"internal-error"),w.abrupt("return",wI(P,new yI(v),v.bypassAuthState));case 3:case"end":return w.stop()}}),w)})))).apply(this,arguments)}var wP=function(){function w(v,I,P,u){var Q=arguments.length>4&&void 0!==arguments[4]&&arguments[4];(0,Y.e)(this,w),this.auth=v,this.resolver=P,this.user=u,this.bypassAuthState=Q,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(I)?I:[I]}return(0,g.c)(w,[{key:"execute",value:function(){var w=this;return new Promise(function(){var v=(0,r.e)(x().mark((function v(I,P){return x().wrap((function(v){for(;;)switch(v.prev=v.next){case 0:return w.pendingPromise={resolve:I,reject:P},v.prev=1,v.next=4,w.resolver._initialize(w.auth);case 4:return w.eventManager=v.sent,v.next=7,w.onExecution();case 7:w.eventManager.registerConsumer(w),v.next=13;break;case 10:v.prev=10,v.t0=v.catch(1),w.reject(v.t0);case 13:case"end":return v.stop()}}),v,null,[[1,10]])})));return function(w,I){return v.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var w=(0,r.e)(x().mark((function w(v){var I,P,u,Q,K,a,U;return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:if(I=v.urlResponse,P=v.sessionId,u=v.postBody,Q=v.tenantId,K=v.error,a=v.type,!K){w.next=4;break}return this.reject(K),w.abrupt("return");case 4:return U={auth:this.auth,requestUri:I,sessionId:P,tenantId:Q||void 0,postBody:u||void 0,user:this.user,bypassAuthState:this.bypassAuthState},w.prev=5,w.t0=this,w.next=9,this.getIdpTask(a)(U);case 9:w.t1=w.sent,w.t0.resolve.call(w.t0,w.t1),w.next=16;break;case 13:w.prev=13,w.t2=w.catch(5),this.reject(w.t2);case 16:case"end":return w.stop()}}),w,this,[[5,13]])})));return function(v){return w.apply(this,arguments)}}()},{key:"onError",value:function(w){this.reject(w)}},{key:"getIdpTask",value:function(w){switch(w){case"signInViaPopup":case"signInViaRedirect":return TI;case"linkViaPopup":case"linkViaRedirect":return AI;case"reauthViaPopup":case"reauthViaRedirect":return ZI;default:X(this.auth,"internal-error")}}},{key:"resolve",value:function(w){Kw(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(w),this.unregisterAndCleanUp()}},{key:"reject",value:function(w){Kw(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(w),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),w}(),vP=new lw(2e3,1e4);function IP(w,v,I){return PP.apply(this,arguments)}function PP(){return(PP=(0,r.e)(x().mark((function w(v,I,P){var u,Q,K;return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:return u=sv(v),Iw(v,I,Dv),Q=CI(u,P),K=new uP(u,"signInViaPopup",I,Q),w.abrupt("return",K.executeNotNull());case 5:case"end":return w.stop()}}),w)})))).apply(this,arguments)}var uP=function(w){(0,K.e)(I,w);var v=(0,a.d)(I);function I(w,P,u,K,a){var U;return(0,Y.e)(this,I),(U=v.call(this,w,P,K,a)).provider=u,U.authWindow=null,U.pollId=null,I.currentPopupAction&&I.currentPopupAction.cancel(),I.currentPopupAction=(0,Q.d)(U),U}return(0,g.c)(I,[{key:"executeNotNull",value:function(){var w=(0,r.e)(x().mark((function w(){var v;return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,this.execute();case 2:return uw(v=w.sent,this.auth,"internal-error"),w.abrupt("return",v);case 5:case"end":return w.stop()}}),w,this)})));return function(){return w.apply(this,arguments)}}()},{key:"onExecution",value:function(){var w=(0,r.e)(x().mark((function w(){var v,I=this;return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:return Kw(1===this.filter.length,"Popup operations only handle one event"),v=sI(),w.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],v);case 4:this.authWindow=w.sent,this.authWindow.associatedEvent=v,this.resolver._originValidation(this.auth).catch((function(w){I.reject(w)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(w){w||I.reject(ww(I.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return w.stop()}}),w,this)})));return function(){return w.apply(this,arguments)}}()},{key:"eventId",get:function(){var w;return(null===(w=this.authWindow)||void 0===w?void 0:w.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(ww(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,I.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var w=this;!function v(){var I,P;(null===(P=null===(I=w.authWindow)||void 0===I?void 0:I.window)||void 0===P?void 0:P.closed)?w.pollId=window.setTimeout((function(){w.pollId=null,w.reject(ww(w.auth,"popup-closed-by-user"))}),2e3):w.pollId=window.setTimeout(v,vP.get())}()}}]),I}(wP);uP.currentPopupAction=null;var QP=new Map,KP=function(w){(0,K.e)(I,w);var v=(0,a.d)(I);function I(w,P){var u,Q=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,Y.e)(this,I),(u=v.call(this,w,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],P,void 0,Q)).eventId=null,u}return(0,g.c)(I,[{key:"execute",value:function(){var w=(0,r.e)(x().mark((function w(){var v,Q;return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:if(v=QP.get(this.auth._key())){w.next=21;break}return w.prev=2,w.next=5,aP(this.resolver,this.auth);case 5:if(!w.sent){w.next=12;break}return w.next=9,(0,P.c)((0,u.d)(I.prototype),"execute",this).call(this);case 9:w.t0=w.sent,w.next=13;break;case 12:w.t0=null;case 13:Q=w.t0,v=function(){return Promise.resolve(Q)},w.next=20;break;case 17:w.prev=17,w.t1=w.catch(2),v=function(){return Promise.reject(w.t1)};case 20:QP.set(this.auth._key(),v);case 21:return w.abrupt("return",v());case 22:case"end":return w.stop()}}),w,this,[[2,17]])})));return function(){return w.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var w=(0,r.e)(x().mark((function w(v){var Q;return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:if("signInViaRedirect"!==v.type){w.next=4;break}return w.abrupt("return",(0,P.c)((0,u.d)(I.prototype),"onAuthEvent",this).call(this,v));case 4:if("unknown"!==v.type){w.next=7;break}return this.resolve(null),w.abrupt("return");case 7:if(!v.eventId){w.next=17;break}return w.next=10,this.auth._redirectUserForId(v.eventId);case 10:if(!(Q=w.sent)){w.next=16;break}return this.user=Q,w.abrupt("return",(0,P.c)((0,u.d)(I.prototype),"onAuthEvent",this).call(this,v));case 16:this.resolve(null);case 17:case"end":return w.stop()}}),w,this)})));return function(v){return w.apply(this,arguments)}}()},{key:"onExecution",value:function(){var w=(0,r.e)(x().mark((function w(){return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:case"end":return w.stop()}}),w)})));return function(){return w.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),I}(wP);function aP(w,v){return UP.apply(this,arguments)}function UP(){return(UP=(0,r.e)(x().mark((function w(v,I){var P,u;return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:return P=rP(I),w.next=3,pP(v)._get(P);case 3:return w.t0=w.sent,u="true"===w.t0,w.next=7,pP(v)._remove(P);case 7:return w.abrupt("return",u);case 8:case"end":return w.stop()}}),w)})))).apply(this,arguments)}function pP(w){return Uw(w._redirectPersistence)}function rP(w){return Iv("pendingRedirect",w.config.apiKey,w.name)}function YP(w,v){return gP.apply(this,arguments)}function gP(){return gP=(0,r.e)(x().mark((function w(v,I){var P,u,Q,K,a,U=arguments;return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:return P=U.length>2&&void 0!==U[2]&&U[2],u=sv(v),Q=CI(u,I),K=new KP(u,Q,P),w.next=6,K.execute();case 6:if(!(a=w.sent)||P){w.next=13;break}return delete a.user._redirectEventId,w.next=11,u._persistUserIfCurrent(a.user);case 11:return w.next=13,u._setRedirectUser(null,I);case 13:return w.abrupt("return",a);case 14:case"end":return w.stop()}}),w)}))),gP.apply(this,arguments)}var JP=function(){function w(v){(0,Y.e)(this,w),this.auth=v,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return(0,g.c)(w,[{key:"registerConsumer",value:function(w){this.consumers.add(w),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,w)&&(this.sendToConsumer(this.queuedRedirectEvent,w),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(w){this.consumers.delete(w)}},{key:"onEvent",value:function(w){var v=this;if(this.hasEventBeenHandled(w))return!1;var I=!1;return this.consumers.forEach((function(P){v.isEventForConsumer(w,P)&&(I=!0,v.sendToConsumer(w,P),v.saveEventToCache(w))})),this.hasHandledPotentialRedirect||!function(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return RP(w);default:return!1}}(w)||(this.hasHandledPotentialRedirect=!0,I||(this.queuedRedirectEvent=w,I=!0)),I}},{key:"sendToConsumer",value:function(w,v){var I;if(w.error&&!RP(w)){var P=(null===(I=w.error.code)||void 0===I?void 0:I.split("auth/")[1])||"internal-error";v.onError(ww(this.auth,P))}else v.onAuthEvent(w)}},{key:"isEventForConsumer",value:function(w,v){var I=null===v.eventId||!!w.eventId&&w.eventId===v.eventId;return v.filter.includes(w.type)&&I}},{key:"hasEventBeenHandled",value:function(w){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(lP(w))}},{key:"saveEventToCache",value:function(w){this.cachedEventUids.add(lP(w)),this.lastProcessedEventTime=Date.now()}}]),w}();function lP(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter((function(w){return w})).join("-")}function RP(w){var v=w.type,I=w.error;return"unknown"===v&&(null===I||void 0===I?void 0:I.code)==="auth/".concat("no-auth-event")}function xP(w){return jP.apply(this,arguments)}function jP(){return jP=(0,r.e)(x().mark((function w(v){var I,P=arguments;return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:return I=P.length>1&&void 0!==P[1]?P[1]:{},w.abrupt("return",tw(v,"GET","/v1/projects",I));case 2:case"end":return w.stop()}}),w)}))),jP.apply(this,arguments)}var sP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,BP=/^https?/;function tP(){return(tP=(0,r.e)(x().mark((function w(v){var I,P,u,Q,K;return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:if(!v.config.emulator){w.next=2;break}return w.abrupt("return");case 2:return w.next=4,xP(v);case 4:I=w.sent,P=I.authorizedDomains,u=(0,U.b)(P),w.prev=7,u.s();case 9:if((Q=u.n()).done){w.next=20;break}if(K=Q.value,w.prev=11,!iP(K)){w.next=14;break}return w.abrupt("return");case 14:w.next=18;break;case 16:w.prev=16,w.t0=w.catch(11);case 18:w.next=9;break;case 20:w.next=25;break;case 22:w.prev=22,w.t1=w.catch(7),u.e(w.t1);case 25:return w.prev=25,u.f(),w.finish(25);case 28:X(v,"unauthorized-domain");case 29:case"end":return w.stop()}}),w,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function iP(w){var v=rw(),I=new URL(v),P=I.protocol,u=I.hostname;if(w.startsWith("chrome-extension://")){var Q=new URL(w);return""===Q.hostname&&""===u?"chrome-extension:"===P&&w.replace("chrome-extension://","")===v.replace("chrome-extension://",""):"chrome-extension:"===P&&Q.hostname===u}if(!BP.test(P))return!1;if(sP.test(w))return u===w;var K=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+K+"|"+K+")$","i").test(u)}var zP=new lw(3e4,6e4);function EP(){var w=tI().___jsl;if(null===w||void 0===w?void 0:w.H)for(var v=0,I=Object.keys(w.H);v<I.length;v++){var P=I[v];if(w.H[P].r=w.H[P].r||[],w.H[P].L=w.H[P].L||[],w.H[P].r=(0,J.d)(w.H[P].L),w.CP)for(var u=0;u<w.CP.length;u++)w.CP[u]=null}}var oP=null;function hP(w){return oP=oP||function(w){return new Promise((function(v,I){var P,u,Q;function K(){EP(),gapi.load("gapi.iframes",{callback:function(){v(gapi.iframes.getContext())},ontimeout:function(){EP(),I(ww(w,"network-request-failed"))},timeout:zP.get()})}if(null===(u=null===(P=tI().gapi)||void 0===P?void 0:P.iframes)||void 0===u?void 0:u.Iframe)v(gapi.iframes.getContext());else{if(!(null===(Q=tI().gapi)||void 0===Q?void 0:Q.load)){var a=dI("iframefcb");return tI()[a]=function(){gapi.load?K():I(ww(w,"network-request-failed"))},LI("https://apis.google.com/js/api.js?onload=".concat(a))}K()}})).catch((function(w){throw oP=null,w}))}(w),oP}var nP=new lw(5e3,15e3),WP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},VP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function FP(w){var v=w.config;uw(v.authDomain,w,"auth-domain-config-required");var I=v.emulator?Rw(v,"emulator/auth/iframe"):"https://".concat(w.config.authDomain,"/").concat("__/auth/iframe"),P={apiKey:v.apiKey,appName:w.name,v:c.e},u=VP.get(w.config.apiHost);u&&(P.eid=u);var Q=w._getFrameworks();return Q.length&&(P.fw=Q.join(",")),"".concat(I,"?").concat(V(P).slice(1))}function OP(w){return NP.apply(this,arguments)}function NP(){return NP=(0,r.e)(x().mark((function w(v){var I,P;return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,hP(v);case 2:return I=w.sent,uw(P=tI().gapi,v,"internal-error"),w.abrupt("return",I.open({where:document.body,url:FP(v),messageHandlersFilter:P.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:WP,dontclear:!0},(function(w){return new Promise(function(){var I=(0,r.e)(x().mark((function I(P,u){var Q,K,a;return x().wrap((function(I){for(;;)switch(I.prev=I.next){case 0:return a=function(){tI().clearTimeout(K),P(w)},I.next=3,w.restyle({setHideOnLeave:!1});case 3:Q=ww(v,"network-request-failed"),K=tI().setTimeout((function(){u(Q)}),nP.get()),w.ping(a).then(a,(function(){u(Q)}));case 6:case"end":return I.stop()}}),I)})));return function(w,v){return I.apply(this,arguments)}}())})));case 6:case"end":return w.stop()}}),w)}))),NP.apply(this,arguments)}var qP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},mP="_blank",cP="http://localhost",MP=function(){function w(v){(0,Y.e)(this,w),this.window=v,this.associatedEvent=null}return(0,g.c)(w,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(w){}}}]),w}();function SP(w,v,I){var P=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,Q=Math.max((window.screen.availHeight-u)/2,0).toString(),K=Math.max((window.screen.availWidth-P)/2,0).toString(),a="",U=Object.assign(Object.assign({},qP),{width:P.toString(),height:u.toString(),top:Q,left:K}),r=i().toLowerCase();I&&(a=av(r)?mP:I),Qv(r)&&(v=v||cP,U.scrollbars="yes");var Y=Object.entries(U).reduce((function(w,v){var I=(0,p.e)(v,2),P=I[0],u=I[1];return"".concat(w).concat(P,"=").concat(u,",")}),"");if(Jv(r)&&"_self"!==a)return eP(v||"",a),new MP(null);var g=window.open(v||"",a,Y);uw(g,w,"popup-blocked");try{g.focus()}catch(w){}return new MP(g)}function eP(w,v){var I=document.createElement("a");I.href=w,I.target=v;var P=document.createEvent("MouseEvent");P.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),I.dispatchEvent(P)}var HP="__/auth/handler",GP="emulator/auth/handler";function LP(w,v,I,P,u,Q){uw(w.config.authDomain,w,"auth-domain-config-required"),uw(w.config.apiKey,w,"invalid-api-key");var K={apiKey:w.config.apiKey,appName:w.name,authType:I,redirectUrl:P,v:c.e,eventId:u};if(v instanceof Dv){v.setDefaultLanguage(w.languageCode),K.providerId=v.providerId||"",function(w){for(var v in w)if(Object.prototype.hasOwnProperty.call(w,v))return!1;return!0}(v.getCustomParameters())||(K.customParameters=JSON.stringify(v.getCustomParameters()));for(var a=0,U=Object.entries(Q||{});a<U.length;a++){var r=(0,p.e)(U[a],2),Y=r[0],g=r[1];K[Y]=g}}if(v instanceof fv){var J=v.getScopes().filter((function(w){return""!==w}));J.length>0&&(K.scopes=J.join(","))}w.tenantId&&(K.tid=w.tenantId);for(var l=K,R=0,x=Object.keys(l);R<x.length;R++){var j=x[R];void 0===l[j]&&delete l[j]}return"".concat(function(w){var v=w.config;if(!v.emulator)return"https://".concat(v.authDomain,"/").concat(HP);return Rw(v,GP)}(w),"?").concat(V(l).slice(1))}var dP="webStorageSupport",DP=function(){function w(){(0,Y.e)(this,w),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=RI,this._completeRedirectFn=YP}return(0,g.c)(w,[{key:"_openPopup",value:function(){var w=(0,r.e)(x().mark((function w(v,I,P,u){var Q,K;return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:return Kw(null===(Q=this.eventManagers[v._key()])||void 0===Q?void 0:Q.manager,"_initialize() not called before _openPopup()"),K=LP(v,I,P,rw(),u),w.abrupt("return",SP(v,K,sI()));case 3:case"end":return w.stop()}}),w,this)})));return function(v,I,P,u){return w.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var w=(0,r.e)(x().mark((function w(v,I,P,u){return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,this._originValidation(v);case 2:return Q=LP(v,I,P,rw(),u),tI().location.href=Q,w.abrupt("return",new Promise((function(){})));case 4:case"end":return w.stop()}var Q}),w,this)})));return function(v,I,P,u){return w.apply(this,arguments)}}()},{key:"_initialize",value:function(w){var v=w._key();if(this.eventManagers[v]){var I=this.eventManagers[v],P=I.manager,u=I.promise;return P?Promise.resolve(P):(Kw(u,"If manager is not set, promise should be"),u)}var Q=this.initAndGetManager(w);return this.eventManagers[v]={promise:Q},Q}},{key:"initAndGetManager",value:function(){var w=(0,r.e)(x().mark((function w(v){var I,P;return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,OP(v);case 2:return I=w.sent,P=new JP(v),I.register("authEvent",(function(w){return uw(null===w||void 0===w?void 0:w.authEvent,v,"invalid-auth-event"),{status:P.onEvent(w.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[v._key()]={manager:P},this.iframes[v._key()]=I,w.abrupt("return",P);case 8:case"end":return w.stop()}}),w,this)})));return function(v){return w.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(w,v){this.iframes[w._key()].send(dP,{type:dP},(function(I){var P,u=null===(P=null===I||void 0===I?void 0:I[0])||void 0===P?void 0:P.webStorageSupport;void 0!==u&&v(!!u),X(w,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(w){var v=w._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function(w){return tP.apply(this,arguments)}(w)),this.originValidationPromises[v]}},{key:"_shouldInitProactively",get:function(){return Rv()||Kv()||gv()}}]),w}(),fP=DP,bP=function(w){(0,K.e)(I,w);var v=(0,a.d)(I);function I(w){var P;return(0,Y.e)(this,I),(P=v.call(this,"phone")).credential=w,P}return(0,g.c)(I,[{key:"_finalizeEnroll",value:function(w,v,I){return function(w,v){return tw(w,"POST","/v2/accounts/mfaEnrollment:finalize",Bw(w,v))}(w,{idToken:v,displayName:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(w,v){return function(w,v){return tw(w,"POST","/v2/accounts/mfaSignIn:finalize",Bw(w,v))}(w,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(w){return new I(w)}}]),I}(function(){function w(v){(0,Y.e)(this,w),this.factorId=v}return(0,g.c)(w,[{key:"_process",value:function(w,v,I){switch(v.type){case"enroll":return this._finalizeEnroll(w,v.credential,I);case"signin":return this._finalizeSignIn(w,v.credential);default:return Qw("unexpected MultiFactorSessionType")}}}]),w}());(function(){function w(){(0,Y.e)(this,w)}return(0,g.c)(w,null,[{key:"assertion",value:function(w){return bP._fromCredential(w)}}]),w}()).FACTOR_ID="phone";var kP,CP="@firebase/auth",yP="0.18.3",TP=function(){function w(v){(0,Y.e)(this,w),this.auth=v,this.internalListeners=new Map}return(0,g.c)(w,[{key:"getUid",value:function(){var w;return this.assertAuthConfigured(),(null===(w=this.auth.currentUser)||void 0===w?void 0:w.uid)||null}},{key:"getToken",value:function(){var w=(0,r.e)(x().mark((function w(v){var I;return x().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:return this.assertAuthConfigured(),w.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){w.next=5;break}return w.abrupt("return",null);case 5:return w.next=7,this.auth.currentUser.getIdToken(v);case 7:return I=w.sent,w.abrupt("return",{accessToken:I});case 9:case"end":return w.stop()}}),w,this)})));return function(v){return w.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(w){if(this.assertAuthConfigured(),!this.internalListeners.has(w)){var v=this.auth.onIdTokenChanged((function(v){var I;w((null===(I=v)||void 0===I?void 0:I.stsTokenManager.accessToken)||null)}));this.internalListeners.set(w,v),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(w){this.assertAuthConfigured();var v=this.internalListeners.get(w);v&&(this.internalListeners.delete(w),v(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){uw(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),w}();function ZP(){var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,c.n)(),v=(0,c.h)(w,"auth");return v.isInitialized()?v.getImmediate():pw(w,{popupRedirectResolver:fP,persistence:[HI,JI,RI]})}kP="Browser",(0,c.l)(new k.f("auth",(function(w,v){var I=v.options,P=w.getProvider("app").getImmediate(),u=P.options,Q=u.apiKey,K=u.authDomain;return function(w){uw(Q&&!Q.includes(":"),"invalid-api-key",{appName:w.name}),uw(!(null===K||void 0===K?void 0:K.includes(":")),"argument-error",{appName:w.name});var v={apiKey:Q,authDomain:K,clientPlatform:kP,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xv(kP)},P=new jv(w,v);return function(w,v){var I=(null===v||void 0===v?void 0:v.persistence)||[],P=(Array.isArray(I)?I:[I]).map(Uw);(null===v||void 0===v?void 0:v.errorMap)&&w._updateErrorMap(v.errorMap),w._initializeWithPersistence(P,null===v||void 0===v?void 0:v.popupRedirectResolver)}(P,I),P}(P)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(w,v,I){w.getProvider("auth-internal").initialize()}))),(0,c.l)(new k.f("auth-internal",(function(w){return function(w){return new TP(w)}(sv(w.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),(0,c.q)(CP,yP,function(w){switch(w){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(kP)),(0,c.q)(CP,yP,"esm2017")},64890:function(w,v){!function(w){"use strict";function v(w){return Array.prototype.slice.call(w)}function I(w){return new Promise((function(v,I){w.onsuccess=function(){v(w.result)},w.onerror=function(){I(w.error)}}))}function P(w,v,P){var u,Q=new Promise((function(Q,K){I(u=w[v].apply(w,P)).then(Q,K)}));return Q.request=u,Q}function u(w,v,I){var u=P(w,v,I);return u.then((function(w){if(w)return new r(w,u.request)}))}function Q(w,v,I){I.forEach((function(I){Object.defineProperty(w.prototype,I,{get:function(){return this[v][I]},set:function(w){this[v][I]=w}})}))}function K(w,v,I,u){u.forEach((function(u){u in I.prototype&&(w.prototype[u]=function(){return P(this[v],u,arguments)})}))}function a(w,v,I,P){P.forEach((function(P){P in I.prototype&&(w.prototype[P]=function(){return this[v][P].apply(this[v],arguments)})}))}function U(w,v,I,P){P.forEach((function(P){P in I.prototype&&(w.prototype[P]=function(){return u(this[v],P,arguments)})}))}function p(w){this._index=w}function r(w,v){this._cursor=w,this._request=v}function Y(w){this._store=w}function g(w){this._tx=w,this.complete=new Promise((function(v,I){w.oncomplete=function(){v()},w.onerror=function(){I(w.error)},w.onabort=function(){I(w.error)}}))}function J(w,v,I){this._db=w,this.oldVersion=v,this.transaction=new g(I)}function l(w){this._db=w}function R(w,v,I){var u=P(indexedDB,"open",[w,v]),Q=u.request;return Q&&(Q.onupgradeneeded=function(w){I&&I(new J(Q.result,w.oldVersion,Q.transaction))}),u.then((function(w){return new l(w)}))}function x(w){return P(indexedDB,"deleteDatabase",[w])}Q(p,"_index",["name","keyPath","multiEntry","unique"]),K(p,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),U(p,"_index",IDBIndex,["openCursor","openKeyCursor"]),Q(r,"_cursor",["direction","key","primaryKey","value"]),K(r,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(w){w in IDBCursor.prototype&&(r.prototype[w]=function(){var v=this,P=arguments;return Promise.resolve().then((function(){return v._cursor[w].apply(v._cursor,P),I(v._request).then((function(w){if(w)return new r(w,v._request)}))}))})})),Y.prototype.createIndex=function(){return new p(this._store.createIndex.apply(this._store,arguments))},Y.prototype.index=function(){return new p(this._store.index.apply(this._store,arguments))},Q(Y,"_store",["name","keyPath","indexNames","autoIncrement"]),K(Y,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),U(Y,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),a(Y,"_store",IDBObjectStore,["deleteIndex"]),g.prototype.objectStore=function(){return new Y(this._tx.objectStore.apply(this._tx,arguments))},Q(g,"_tx",["objectStoreNames","mode"]),a(g,"_tx",IDBTransaction,["abort"]),J.prototype.createObjectStore=function(){return new Y(this._db.createObjectStore.apply(this._db,arguments))},Q(J,"_db",["name","version","objectStoreNames"]),a(J,"_db",IDBDatabase,["deleteObjectStore","close"]),l.prototype.transaction=function(){return new g(this._db.transaction.apply(this._db,arguments))},Q(l,"_db",["name","version","objectStoreNames"]),a(l,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(w){[Y,p].forEach((function(I){w in I.prototype&&(I.prototype[w.replace("open","iterate")]=function(){var I=v(arguments),P=I[I.length-1],u=this._store||this._index,Q=u[w].apply(u,I.slice(0,-1));Q.onsuccess=function(){P(Q.result)}})}))})),[p,Y].forEach((function(w){w.prototype.getAll||(w.prototype.getAll=function(w,v){var I=this,P=[];return new Promise((function(u){I.iterateCursor(w,(function(w){w?(P.push(w.value),void 0===v||P.length!=v?w.continue():u(P)):u(P)}))}))})})),w.openDb=R,w.deleteDb=x,Object.defineProperty(w,"__esModule",{value:!0})}(v)},5647:function(w,v,I){"use strict";I.d(v,{e:function(){return Q}});var P=I(89611),u=I(78814);function Q(w,v,I){return Q=(0,u.e)()?Reflect.construct.bind():function(w,v,I){var u=[null];u.push.apply(u,v);var Q=new(Function.bind.apply(w,u));return I&&(0,P.c)(Q,I.prototype),Q},Q.apply(null,arguments)}},11752:function(w,v,I){"use strict";I.d(v,{c:function(){return Q}});var P=I(61120);function u(w,v){for(;!Object.prototype.hasOwnProperty.call(w,v)&&null!==(w=(0,P.d)(w)););return w}function Q(){return Q="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(w,v,I){var P=u(w,v);if(P){var Q=Object.getOwnPropertyDescriptor(P,v);return Q.get?Q.get.call(arguments.length<3?w:I):Q.value}},Q.apply(this,arguments)}},28664:function(w,v,I){"use strict";I.d(v,{c:function(){return K}});var P=I(61120),u=I(89611);var Q=I(5647);function K(w){var v="function"===typeof Map?new Map:void 0;return K=function(w){if(null===w||(I=w,-1===Function.toString.call(I).indexOf("[native code]")))return w;var I;if("function"!==typeof w)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof v){if(v.has(w))return v.get(w);v.set(w,K)}function K(){return(0,Q.e)(w,arguments,(0,P.d)(this).constructor)}return K.prototype=Object.create(w.prototype,{constructor:{value:K,enumerable:!1,writable:!0,configurable:!0}}),(0,u.c)(K,w)},K(w)}}}]);